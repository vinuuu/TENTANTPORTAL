angular.module("rpDraggable",[]),function(e){"use strict";function a(e){return e()}e.module("rpDraggable").factory("rpDraggableSvc",["rpPoolSvc",a])}(angular),function(e){"use strict";function a(a,t){var n,r=1;return function(o,l,p){var u,g={},c={},i={},f={},s=".drag"+r++,d="mouseup"+s,v="mousedown"+s,b="mousemove"+s,m="mouseleave"+s,D=l.parents(".rp-draggable-wrap");g.enabled=function(){return!!o.$eval(p.rpDragEnabled)},g.setStyles=function(e){if(e)f=e;else for(var a in f)f[a]="";return l.css(f),g},g.updateStyles=function(a){e.extend(f,a),l.css(f)},g.activateElem=function(e){if(g.enabled()){var a=l.offset(),t=D.offset();e.preventDefault(),e.stopPropagation(),c={x:e.pageX,y:e.pageY},i={y:a.top-t.top+D.scrollTop(),x:a.left-t.left+D.scrollLeft()},g.setStyles({top:i.y,left:i.x}),l.addClass("rp-drag-active"),n.on(b,g.dragElem),n.on(d,g.deactivateElem),n.on(m,g.deactivateElem),o.$apply(p.rpDragStart,l)}},g.dragElem=function(e){g.enabled()&&(u=e,g.updateStyles({top:i.y+e.pageY-c.y,left:i.x+e.pageX-c.x}),e.preventDefault(),e.stopPropagation(),o.$apply(p.rpDrag,l))},g.dragPoint=function(){return t().fromEvent(u)},g.deactivateElem=function(){g.setStyles().cleanup(),l.removeClass("rp-drag-active"),o.$apply(p.rpDragEnd,l)},g.cleanup=function(){n.off(s)},function(){a(p.rpDraggable,g),l.on(v,g.activateElem),n=n||e.element("body")}()}}e.module("rpDraggable").factory("rpDraggableModel",["rpDraggableSvc","point",a])}(angular),function(e){"use strict";function a(a,t){var n,r=1;return function(o,l,p){var u,g,c={},i={},f={},s={},d=".drag"+r++,v="touchend"+d,b="touchmove"+d,m="touchstart"+d,D="contextmenu"+d,y=l.parents(".rp-draggable-wrap");c.disableContextMenu=function(){return!1},c.enableDrag=function(e){u=setTimeout(function(){c.activateElem(e)},200),l.on(v,c.disableDrag),n.on(b,c.disableDrag),n.on(D,c.disableContextMenu)},c.disableDrag=function(){clearTimeout(u)},c.enabled=function(){return!!o.$eval(p.rpDragEnabled)},c.setStyles=function(e){if(e)s=e;else for(var a in s)s[a]="";return l.css(s),c},c.updateStyles=function(a){e.extend(s,a),l.css(s)},c.activateElem=function(e){if(c.enabled()){e.preventDefault(),e.stopPropagation();var a,t=l.offset(),r=y.offset();a={pageX:e.originalEvent.touches[0].pageX,pageY:e.originalEvent.touches[0].pageY},i={x:a.pageX,y:a.pageY},f={y:t.top-r.top+y.scrollTop(),x:t.left-r.left+y.scrollLeft()},c.setStyles({top:f.y,left:f.x}),l.addClass("rp-drag-active"),n.on(b,c.dragElem),n.on(v,c.deactivateElem),o.$apply(p.rpDragStart,l)}},c.dragElem=function(e){if(c.enabled()){e.preventDefault(),e.stopPropagation();var a={pageY:e.originalEvent.touches[0].pageY,pageX:e.originalEvent.touches[0].pageX};g=a,c.updateStyles({top:f.y+a.pageY-i.y,left:f.x+a.pageX-i.x}),o.$apply(p.rpDrag,l)}},c.dragPoint=function(){return t().fromEvent(g)},c.deactivateElem=function(){c.setStyles().cleanup(),l.removeClass("rp-drag-active"),o.$apply(p.rpDragEnd,l)},c.cleanup=function(){n.off(d),l.off(v)},function(){a(p.rpDraggable,c),l.on(m,c.enableDrag),n=n||e.element("body")}()}}e.module("rpDraggable").factory("rpDraggableTouchModel",["rpDraggableSvc","point",a])}(angular),function(e){"use strict";function a(e,a,t){function n(n,r,o){e.hasTouch()?t(n,r,o):a(n,r,o)}return{link:n,restrict:"A"}}e.module("rpDraggable").directive("rpDraggable",["deviceInfoSvc","rpDraggableModel","rpDraggableTouchModel",a])}(angular);