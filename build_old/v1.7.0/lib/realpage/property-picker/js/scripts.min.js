angular.module("rpPropertyPicker",[]),angular.module("rpPropertyPicker").run(["$templateCache",function(t){t.put("realpage/property-picker/templates/property-context.html",'<div class="rp-property-context" ng-click="context.togglePicker()"><i class="icon" ng-class="context.model.iconState"></i><div class="property-name" title="{{context.model.property.name}}">{{context.model.property.name}}</div><div class="property-address" title="{{context.model.property.address}}">{{context.model.property.address}}</div></div>'),t.put("realpage/property-picker/templates/property-picker.html",'<div ng-class="picker.state" class="rp-property-picker"><span class="divider-h fw"></span> <span class="icon-close rp-icon-delete-2" ng-click="picker.close()"></span><ul class="nav nav-md ng-hide"><li class="nav-item inline"><a class="nav-link active" href="" data-toggle="tab" data-target="#tab_0"><span class="text-md">RealPage Icons</span> <small class="block text-muted hidden-xs">Custom Icons by RealPage</small></a></li><li class="nav-item inline"><a class="nav-link" href="" data-toggle="tab" data-target="#tab_1"><span class="text-md">Font Awesome</span> <small class="block text-muted hidden-xs">Awesome font icons</small></a></li><li class="nav-item inline"><a class="nav-link" href="" data-toggle="tab" data-target="#tab_2"><span class="text-md">Material <span class="hidden-xs">Design</span></span> <small class="block text-muted hidden-xs">Google material design icons</small></a></li></ul><div class="slider-wrap" ng-class="picker.propertyInfo.state"><div class="slider"><div class="select-property"><h2 class="ft-medium ft-s-18 ft-track-20">Select a Property</h2><div class="property-list-wrap" ng-controller="RpPropertyListCtrl as propertyList"><div class="filters row"><div class="col-md-6"><input class="form-control" placeholder="Property name" ng-model="propertyList.model.filter.name"></div><div class="col-md-3"><select class="form-control c-select" ng-model="propertyList.model.filter.state" ng-options="option.value as option.name for option in propertyList.model.states.options"></select></div><div class="col-md-3"><select class="form-control c-select" ng-model="propertyList.model.filter.country" ng-options="option.value as option.name for option in propertyList.model.countries.options"></select></div></div><div class="list-group property-list"><a href="" class="list-group-item property" ng-click="propertyList.selectProperty(property)" ng-repeat="property in propertyList.model.list | filter: propertyList.model.filter"><span rp-kill-event="click" class="pull-right text-primary icon-info" ng-click="propertyList.showPropInfo(property)"><i class="rp-icon-info-circle"></i></span><div class="block _500">{{property.name}}</div><div class="text-muted">{{property.address}}</div></a></div></div></div><div class="property-info" ng-controller="RpPropertyInfoCtrl as propertyInfo"><p class="back-to-property-list" ng-click="propertyInfo.hide()"><i class="icon rp-icon-angle-left"></i> Property List</p><h3 class="ft-medium ft-s-16 ft-track-5">{{propertyInfo.model.property.name}}</h3><p class="ar-date" ng-if="propertyInfo.model.arDate"><span class="ar-date-label">A/R Date</span> <span class="ar-date-value">{{propertyInfo.model.arDate}}</span></p><h4 class="centers-title">Active Centers</h4><ul class="centers-list"><li ng-repeat="center in propertyInfo.model.centers">{{center.name}}</li></ul></div></div></div><div class="property-groups" ng-controller="RpPropertyGroupsCtrl as pgs"><h2 class="ft-medium ft-s-18 ft-track-20">Property Groups</h2><ul class="property-groups-list"><li ng-click="pgs.selectGroup(group)" class="property-group text-primary" ng-repeat="group in pgs.model.groupsList">{{group.name}}</li></ul></div><span class="divider-h fw"></span></div>')}]),function(t){"use strict";function e(t){var e,r,o;return r={siteID:1e3,recordActivity:1},e="/api/core/common/changeproperty/:siteID/:recordActivity",o={switchTo:{method:"POST",params:{siteID:"@siteID",recordActivity:"@recordActivity"}}},t(e,r,o)}t.module("rpPropertyPicker").factory("rpPropertyContext",["$resource",e])}(angular),function(t){"use strict";function e(){return function(){var t;return t={keys:[],options:[],nameKey:"name",valueKey:"value"},t.defaultOption={name:"All",value:""},t.setNameKey=function(e){return t.nameKey=e,t},t.setValueKey=function(e){return t.valueKey=e,t},t.setDefault=function(e){return t.nameKey&&t.valueKey&&e[t.nameKey]&&e[t.valueKey]&&(t.defaultOption={name:e[t.nameKey],value:e[t.valueKey]}),t},t.reset=function(){return t.keys=[],t.options=[t.defaultOption],t},t.addOption=function(e){return-1==t.keys.indexOf(e[t.nameKey])&&(t.options.push(e),t.keys.push(e[t.nameKey])),t},t.setOptions=function(e){e.forEach(t.addOption)},t}}t.module("rpPropertyPicker").factory("rpPickerFilterModel",[e])}(angular),function(t){"use strict";function e(t,e){var r={};return r.change=e(),r.data={open:!1,inactive:"True"===t.read("crossover")},r.get=function(){return r.data},r.toggle=function(){"True"!==t.read("crossover")&&(r.data.open=!r.data.open,r.publish())},r.close=function(){r.data.open=!1,r.publish()},r.publish=function(){r.change.publish(r.data.open)},r.subscribe=function(t){r.change.subscribe(t)},r}t.module("rpPropertyPicker").factory("rpPropertyPickerState",["rpCookie","eventStream",e])}(angular),function(t){"use strict";function e(t,e){var r=this;r.init=function(){r.model=t},r.selectGroup=function(t){e.switchTo(t)},r.init()}t.module("rpPropertyPicker").controller("RpPropertyGroupsCtrl",["rpPropertyGroupsModel","rpPropertyContextModel",e])}(angular),function(t){"use strict";function e(t){var e={};return e.load=function(){e.groupsList=[{name:"All My Properties",siteID:t.get("pmcid")}]},e.flush=function(){e.groupsList=[]},e}t.module("rpPropertyPicker").factory("rpPropertyGroupsModel",["sessionInfo",e])}(angular),function(t){"use strict";function e(t,e){var r,o=e(),n=e();return r={list:[],states:o,countries:n},r.initFilter=function(){return r.filter={name:"",state:"",country:""},r},r.load=function(){r.initFilter(),t.get(r.onLoad)},r.flush=function(){r.list.flush()},r.onLoad=function(t){r.list=t.list,o.reset(),n.reset(),t.list.forEach(function(t){t.state&&o.addOption({name:t.state,value:t.state}),t.country&&n.addOption({name:t.country,value:t.country})})},r.initFilter()}t.module("rpPropertyPicker").factory("rpPropertyListModel",["rpPropertyList","rpPickerFilterModel",e])}(angular),function(t){"use strict";function e(t,e,r,o,n){var i=this;i.init=function(){i.model=t,e.subscribe(i.onChange)},i.onChange=function(e){t[e?"load":"flush"](),n[e?"load":"flush"]()},i.selectProperty=function(t){r.switchTo(t)},i.showPropInfo=function(t){o.load(t)},i.init()}t.module("rpPropertyPicker").controller("RpPropertyListCtrl",["rpPropertyListModel","rpPropertyPickerState","rpPropertyContextModel","rpPropertyInfoModel","rpPropertyGroupsModel",e])}(angular),function(t){"use strict";function e(t){var e;return e="/api/core/common/changeproperty",t(e)}t.module("rpPropertyPicker").factory("rpPropertyList",["$resource",e])}(angular),function(t){"use strict";function e(t){var e,r={};return r.state=e={active:!1},r.load=function(e){var o={siteID:e.siteID};r.property=e,t.get(o,r.onLoad)},r.onLoad=function(t){e.active=!0,r.arDate=t.details.arDate,r.centers=t.details.centers},r.hide=function(){e.active=!1},r}t.module("rpPropertyPicker").factory("rpPropertyInfoModel",["rpPropertyInfo",e])}(angular),function(t){"use strict";function e(t){var e=this;e.init=function(){e.model=t},e.hide=function(){t.hide()},e.init()}t.module("rpPropertyPicker").controller("RpPropertyInfoCtrl",["rpPropertyInfoModel",e])}(angular),function(t){"use strict";function e(t){var e,r,o;return o={},r={siteID:1192563},e="/api/core/common/changeproperty/:siteID/details",t(e,r,o)}t.module("rpPropertyPicker").factory("rpPropertyInfo",["$resource",e])}(angular),function(t){"use strict";function e(){var t={};return t.update=function(){},t}t.module("rpPropertyPicker").factory("rpPropertyPickerModel",[e])}(angular),function(t){"use strict";function e(t,e){var r=this;r.init=function(){r.state=t.get(),r.propertyInfo=e},r.close=function(){t.close()},r.init()}t.module("rpPropertyPicker").controller("RpPropertyPickerCtrl",["rpPropertyPickerState","rpPropertyInfoModel",e])}(angular),function(t){"use strict";function e(){function t(t,e,r){}return{scope:{},link:t,restrict:"E",replace:!0,controller:"RpPropertyPickerCtrl as picker",templateUrl:"realpage/property-picker/templates/property-picker.html"}}t.module("rpPropertyPicker").directive("rpPropertyPicker",[e])}(angular),function(t){"use strict";function e(t,e,r){var o={};return o.init=function(){return o.iconState=r.get(),o.sessionWatch=t.subscribe("update",o.setContext),t.isReady()&&o.setContext(),o},o.setContext=function(e){e&&e.name?o.property={name:e.name,address:e.address}:(o.property={name:t.get("siteName"),address:t.get("address")},o.sessionWatch()),r.close()},o.switchTo=function(t){o.setContext(t);var r={recordActivity:1,siteID:t.siteID};e.switchTo(r,o.onSwitch)},o.onSwitch=function(){t.load()},o.init()}t.module("rpPropertyPicker").factory("rpPropertyContextModel",["sessionInfo","rpPropertyContext","rpPropertyPickerState",e])}(angular),function(t){"use strict";function e(t,e){var r=this;r.init=function(){r.model=t},r.togglePicker=function(){e.toggle()},r.init()}t.module("rpPropertyPicker").controller("RpPropertyContextCtrl",["rpPropertyContextModel","rpPropertyPickerState",e])}(angular),function(t){"use strict";function e(){function t(t,e,r){}return{scope:{},link:t,restrict:"E",replace:!0,controller:"RpPropertyContextCtrl as context",templateUrl:"realpage/property-picker/templates/property-context.html"}}t.module("rpPropertyPicker").directive("rpPropertyContext",[e])}(angular);