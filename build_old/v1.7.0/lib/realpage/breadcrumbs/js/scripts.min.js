angular.module("rpBreadcrumbs",[]),angular.module("rpBreadcrumbs").run(["$templateCache",function(e){e.put("realpage/breadcrumbs/templates/breadcrumbs.html",'<div class="rp-breadcrumbs" ng-show="model.isVisible"><a class="home-icon {{model.home.icon}}" href="{{model.home.url}}"></a><div class="pull-left ft-b-r"><div class="product-name">{{model.product.name}}</div><div class="rp-breadcrumbs-links" ng-if="!model.showBackBtn"><div class="rp-breadcrumb home-link"><a href="{{model.home.url}}" class="rp-breadcrumb-text">{{model.home.text}}</a></div><ul class="rp-breadcrumbs-list"><li ng-repeat="link in model.links" class="rp-breadcrumb p-a-0"><a href="{{link.href}}" class="rp-breadcrumb-text">{{link.text}}</a></li></ul><div class="active-page rp-breadcrumb"><span class="active-page-text rp-breadcrumb-text">{{model.activePage.text}}</span></div></div><div class="rp-breadcrumb home-link" ng-if="model.showBackBtn"><span class="rp-breadcrumb-back-text" ng-click="model.goBack()">{{model.backLinkData.text}}</span></div></div></div>')}]),function(e){"use strict";function r(){function r(r,t,n,c){var i={};return i.init=function(){return i.backLinkData={text:"Back"},i.updateFromStorage(),r.$on("$locationChangeSuccess",i.setLinks),i.home=e.extend({},a.home),i.product=e.extend({},a.product),i},i.updateFromStorage=function(){if(c.has("breadcrumbsLinks")){var r=c.get("breadcrumbsLinks");Object.keys(r).forEach(function(t){e.extend(a.links[t],r[t])})}},i.setLinks=function(){var e=n.url();i.isVisible=!1,i.showBackLink(!1).restoreBackLink(),a.breadcrumbs.forEach(function(r){e.match(r.url)&&(i.isVisible=!0,i.links=r.links||[],i.activePage=r.activePage,i.home.icon=r.homeIcon||a.home.icon,i.product.name=r.productName||a.product.name)}),i.updateLinks()},i.setActivePage=function(e){return i.activePage=e,i},i.updateLinks=function(){var e=!1,r=n.url();return Object.keys(a.links).forEach(function(t){var n=a.links[t],c=n.pattern?new RegExp(n.pattern):"";void 0!==n.pattern&&r.match(c)&&(e=!0,n.href=r)}),e&&c.set("breadcrumbsLinks",a.links),i},i.showBackLink=function(e){return e=void 0===e||!!e,i.showBackBtn=e,i},i.updateBackLink=function(r){return r=r||{},e.extend(i.backLinkData,r),i},i.restoreBackLink=function(){return e.extend(i.backLinkData,{url:"",text:"Back"}),i},i.goBack=function(){return i.backLinkData.url?n.url(i.backLinkData.url):t.history.back(),i},i.init()}var a=this;a.links={},a.breadcrumbs=[],a.setProduct=function(e){return a.product=e,a},a.setHome=function(e){return a.home=e,a},a.setLinks=function(e){return a.links=e,a},a.setBreadcrumbs=function(e){return a.breadcrumbs=e,a},a.$get=["$rootScope","$window","location","rpSessionStorage",r]}e.module("rpBreadcrumbs").provider("rpBreadcrumbsModel",[r])}(angular),function(e){"use strict";function r(e){function r(r,a,t){r.model=e}return{scope:{},link:r,restrict:"E",replace:!0,templateUrl:"realpage/breadcrumbs/templates/breadcrumbs.html"}}e.module("rpBreadcrumbs").directive("rpBreadcrumbs",["rpBreadcrumbsModel",r])}(angular);