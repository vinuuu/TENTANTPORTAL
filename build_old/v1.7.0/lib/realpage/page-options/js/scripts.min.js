angular.module("rpPageOptions",[]),function(e){"use strict";function t(e){e.put(a,o)}var o,a;a="templates/realpage/add-to-favorites.html",o="<div class='add-to-favorites rp-inline-workflow not-ready' rp-slide-toggle='model.slideToggle'><div class='workflow-inner-wrap'><a href='' class='workflow-close' ng-click='fav.closeForm()'></a><h2 class='workflow-title'>{{model.text.title}}</h2><div class='select-group'><p class='menu-label'>{{model.text.group}}</p><select name='favGroup' class='rp-form-select' ng-model='model.groupId' rp-update-display-text='true' rp-select-options='model.groupOptions' ng-options='option.value as option.name for option in model.groupOptions.options'></select> </div><p class='workflow-actions'><a href='' class='button add' ng-click='fav.add()'>{{model.text.add}}</a><a href='' class='button white cancel' ng-click='fav.closeForm()'>{{model.text.cancel}}</a></p></div></div>",e.module("rpPageOptions").run(["$templateCache",t])}(angular),function(e){"use strict";function t(e){var t,o,a,n={};return o={open:!1},a={state:o,name:"favForm"},t={title:"Add To Favorites",group:"Group",add:"Add",cancel:"Cancel"},n.init=function(){return n.text=t,n.slideToggle=a,n.groupOptions=e,n.groupId=e.getSelectedValue(),e.onReady(n.onReady),n},n.onReady=function(){n.groupId=e.getSelectedValue()},n.open=function(){o.open=!0},n.close=function(){o.open=!1},n.init()}e.module("rpPageOptions").factory("addToFavoritesModel",["favGroupOptions",t])}(angular),function(e){"use strict";function t(e,t,o,a,n,i){var s=this;s.init=function(){e.model=o,e.$on("$destroy",s.closeForm)},s.add=function(){var e,i=n.pageInfo();e={groupId:o.groupId,link:{sequence:0,favoriteID:0,dirtyBit:!0,guid:i.guid,legacyFunctionName:"",url:t.absUrl(),tempGroupID:o.groupId,title:i.activityName,favoriteGroupID:o.groupId,displayName:i.activityName,activityUIID:i.activityUIID}},a.addFav(e).save().then(a.reLoad),s.closeForm()},s.closeForm=function(){o.close()},s.init()}e.module("rpPageOptions").controller("AddToFavoritesCtrl",["$scope","location","addToFavoritesModel","favoritesModel","authorization","favorites",t])}(angular),function(e){"use strict";function t(){function e(e,t,o){}return{scope:{},link:e,restrict:"E",replace:!0,controller:"AddToFavoritesCtrl as fav",templateUrl:"templates/realpage/add-to-favorites.html"}}e.module("rpPageOptions").directive("addToFavorites",[t])}(angular),function(e){"use strict";function t(e){e.put(a,o)}var o,a;a="templates/realpage/page-options.html",o="<div class='page-options' ng-class='ctrl.getState()'><div class='rp-actions-menu' model='model.menuOptions'></div><span class='icon-fav'></span></div>",e.module("rpPageOptions").run(["$templateCache",t])}(angular),function(e){"use strict";function t(){var e={};return e.setActions=function(t){e.menuOptions={className:"rp-actions-menu-1",actions:[{hide:!1,text:"Add to Favorites",className:"add-fav-link",iconClassName:"add-fav",method:t.openForm},{hide:!1,text:"Remove from Favorites",className:"del-fav-link",iconClassName:"del-fav",method:t.delFav},{hide:!1,iconClassName:"set-as-home",className:"set-as-home-link",text:"Make this my Home page",method:t.setAsHome}]}},e.setAsHome=function(t){e.menuOptions.actions.forEach(function(e){"set-as-home"==e.iconClassName&&(e.hide=t)})},e}e.module("rpPageOptions").factory("pageOptionsModel",[t])}(angular),function(e){"use strict";function t(e,t,o,a,n,i,s,r){var l=this,c=n.pageInfo();l.init=function(){e.model=o},l.setAsHome=function(e){var t={activityUIID:e.activityUIID};a.setHomepage(t),r.set(e.url)},l.atHome=function(){return t.fullUrl()==r.get()},l.getState=function(){return{"allow-fav":i.allowSetFav(),"is-fav":s.isFav(c.guid),"allow-home":i.allowSetHome()&&!l.atHome()}},l.init()}e.module("rpPageOptions").controller("PageOptionsCtrl",["$scope","location","pageOptionsModel","pageOptions","authorization","userAccess","favoritesModel","rpHomepage",t])}(angular),function(e){"use strict";function t(e,t,o,a){function n(n,i,s,r){var l={},c=a.pageInfo();l.init=function(){n.dir=l,n.model=e,e.pageInfo=c,e.setActions(l)},l.openForm=function(){o.open()},l.delFav=function(){t.delFav(e.pageInfo.guid).save().then(t.reLoad)},l.setAsHome=function(){r.setAsHome(e.pageInfo)},l.init()}return{scope:{},link:n,restrict:"E",replace:!0,controller:"PageOptionsCtrl as ctrl",templateUrl:"templates/realpage/page-options.html"}}e.module("rpPageOptions").directive("pageOptions",["pageOptionsModel","favoritesModel","addToFavoritesModel","authorization",t])}(angular),function(e){"use strict";function t(e){var t,o,a,n="/api/core/common/homepage/:activityUIID";return{setHomepage:function(){return a=n,t={},o={setHomepage:{method:"POST",params:{activityUIID:"@activityUIID"}}},e(a,t,o).setHomepage}()}}e.module("rpPageOptions").factory("pageOptions",["$resource",t])}(angular);