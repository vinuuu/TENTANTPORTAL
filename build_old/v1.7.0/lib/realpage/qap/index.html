<div class="qap-controls" ng-controller="QapCtrl as qap" ng-class="qap.model.state"><div class="qap-controls-inner"><ul class="qap-tabs"><li ng-class="tab.state" class="{{::tab.className}}" ng-click="qap.activate(tab)" ng-repeat="tab in qap.model.tabs"><button class="qap-messaging-badge button small" ng-if="qap.hasMessages() && tab.className === 'messaging'">{{qap.getMessagesCount()}}</button></li></ul><span class="show-tabs" ng-click="qap.showTabs()"></span> <span class="hide-tabs" ng-click="qap.hideTabs()"></span></div></div><div class="qap-panels" ng-controller="QapPanelsCtrl as panels" ng-class="panels.isActive()"><div class="qap-panel-favorites" ng-controller="FavoritesCtrl as favs" ng-class="favs.model.state"><ul class="panel-toolbar"><li class="toolbar-item edit" ng-click="favs.edit()"></li><li class="toolbar-item save" ng-click="favs.saveChanges()"></li><li class="toolbar-item cancel" ng-click="favs.cancelChanges()"></li><li class="toolbar-item"><div class="rp-actions-menu" model="favs.model.actionsMenu"></div></li></ul><h2 class="panel-title">{{::favs.model.text.title}}</h2><div class="favorites-list rp-draggable-wrap"><div class="favorites-group" rp-droppable="{{group.favoriteGroup.favoriteGroupID}}" ng-repeat="group in favs.model.favs"><h3 class="group-title"><span class="icon-delete" ng-click="favs.delGroup(group)"></span> <span class="title-text" ng-class="favoritesGroup.state" ng-click="favoritesGroup.toggle()">{{group.favoriteGroup.groupName}} </span><input type="text" class="rp-form-input" autocorrect="off" ng-model="group.favoriteGroup.groupName" ng-change="favs.setGroupDirty(group.favoriteGroup)" placeholder="{{::favs.model.text.newGroup}}"></h3><ul class="group-list" ng-class="favoritesGroup.state"><li ng-repeat="listItem in group.favorites track by listItem.guid" rp-droppable="{{listItem.guid}}" rp-draggable="{{listItem.guid}}" rp-drag="favs.move(listItem)" rp-drag-end="favs.deactivate(listItem)" rp-drag-start="favs.activate(listItem)" rp-drag-enabled="favs.model.state.edit" class="group-list-item {{listItem.className}}"><span class="icon-delete" rp-kill-event="mousedown" ng-click="favs.delItem(listItem)"></span> <a class="item-link" href="{{listItem.url}}" title="{{listItem.displayName}}">{{listItem.displayName}} </a><span class="item-text">{{listItem.displayName}}</span></li></ul><div class="section-div"></div></div><div class="new-group" ng-click="favs.addGroup()"><span class="new-group-icon"></span> <span class="new-group-text">{{::favs.model.text.newGroup}}</span></div></div></div><div class="qap-panel-advanced-search" ng-controller="AdvancedSearchCtrl as search" ng-class="search.model.state"><form name="inputCategory"><div class="panel-title"><span class="panel-title-label">{{search.model.text.find}}</span><select class="rp-form-select bold-txt select-search" name="searchModel" ng-model="search.model.searchModel.selectedSearch" ng-if="search.model.searchMenuOptions.options.length > 0" rp-wrapper-class="" rp-update-display-text="true" rp-select-options="search.model.searchMenuOptions" ng-change="search.searchMenuChange(search.model.searchModel.selectedSearch)" ng-options="option.value as option.name for option in search.model.searchMenuOptions.options"></select></div><div class="person-find" ng-if="search.model.searchModel.selectedSearch =='Person'"><div class="person-padding"><span class="module-title">{{search.model.text.by}}</span><select class="rp-form-select bold-txt select-category" name="searchModel" ng-model="search.model.categoryModel.selectedCategory" ng-if="search.model.categoryMenuOptions.options.length > 0" rp-wrapper-class="" rp-update-display-text="true" rp-select-options="search.model.categoryMenuOptions" ng-options="option.value as option.name for option in search.model.categoryMenuOptions.options"></select></div><div class="advanced-input"><input required class="rp-form-input" ng-model="search.model.inputCategory" type="text" name="category" autocorrect="off" rp-error-msg="search.model.errorMsgs.inputCategory" placeholder="{{search.model.categoryModel.selectedCategory}}" rp-wrapper-class="advanced-input-text" ng-keypress="search.onKeyPress($event)"> <a href="" class="search-anchor-position search-anchor button" ng-click="search.searchClick()"></a></div><div class="person-padding"><span class="module-title bold-txt">{{search.model.text.filter}}</span> <a href="" class="clear-all" ng-click="search.clearAll()">{{search.model.text.clear}}</a></div><div class="section-div-top"></div><div class="search-filters"><div class="filter-wrap {{search.model.searchModel.selectedSearch.toLowerCase()}}"><div class="filter resident-status"><h3 class="advanced-group-title"><span class="title-text" ng-class="search.model.domainFilterModel.list[0].state" ng-click="search.model.mainToggle(search.model.domainFilterModel.list[0].state)">{{search.model.domainFilterModel.list[0].key}} </span><span ng-class="{change:search.model.domainFilterModel.list[0].state.changed}"></span></h3><ul class="advanced-group-list select-menu" ng-class="search.model.domainFilterModel.list[0].state"><li class="advanced-search-group" ng-repeat="filterOption in search.model.domainFilterModel.list[0].values"><div><input type="checkbox" id="residentStatusFilter{{$index}}" class="rp-form-checkbox" ng-model="search.model.domainFilterModel.selectedResidentsList[filterOption.filter.key]" ng-true-value="1" ng-change="search.model.toggleList(filterOption.state,search.model.domainFilterModel.list[0])" ng-false-value="0"><label for="residentStatusFilter{{$index}}">{{filterOption.filter.value}}</label></div><div class="advanced-option-list select-option" ng-class="filterOption.state"><select class="rp-form-select select-options bold-txt" name="searchModel" ng-model="search.model.domainFilterModel.selectedOption[filterOption.filter.value][filterOption.filter.key]" ng-selected="filterOption.options[0].value" rp-wrapper-class="" ng-if="filterOption.options.length > 0" rp-update-display-text="true" rp-select-options="filterOption" ng-options="option.value as option.name for option in filterOption.options"></select></div></li></ul></div><div class="section-div"></div><div class="filter relationships"><h3 class="advanced-group-title"><span class="title-text" ng-class="search.model.domainFilterModel.relations.state" ng-click="search.model.mainToggle(search.model.domainFilterModel.relations.state)">{{search.model.domainFilterModel.list[1].key}} </span><span ng-class="{change:search.model.domainFilterModel.relations.state.changed}"></span></h3><ul class="advanced-group-list select-menu" ng-class="search.model.domainFilterModel.relations.state"><li class="advanced-search-group" ng-repeat="filterOption in search.model.domainFilterModel.relations | limitTo:search.model.totalfiltersDisplayed"><div><input type="checkbox" id="relationshipFilter{{$index}}" class="rp-form-checkbox" ng-model="search.model.domainFilterModel.selectedRelationsList[filterOption.key]" ng-true-value="1" ng-change="search.model.toggleList(filterOption.state,search.model.domainFilterModel.relations )" ng-false-value="0"><label for="relationshipFilter{{$index}}">{{filterOption.value}}</label></div></li><li ng-if="search.model.domainFilterModel.relations.length > search.model.totalfiltersDisplayed "><a href="#" ng-click="search.model.showAll()">{{search.model.text.showAll}}</a></li></ul></div><div class="section-div"></div><div class="filter contact-type"><h3 class="advanced-group-title"><span class="title-text" ng-class="search.model.domainFilterModel.list[2].state" ng-click="search.model.mainToggle(search.model.domainFilterModel.list[2].state)">{{search.model.domainFilterModel.list[2].key}} </span><span ng-class="{change:search.model.domainFilterModel.list[2].state.changed}"></span></h3><ul class="advanced-group-list select-menu" ng-class="search.model.domainFilterModel.list[2].state"><li class="advanced-search-group" ng-repeat="filterOption in search.model.domainFilterModel.list[2].values"><div><input type="checkbox" id="contactTypeFilter{{$index}}" class="rp-form-checkbox" ng-model="search.model.domainFilterModel.selectedContactList[filterOption.filter.value][filterOption.filter.key]" ng-true-value="1" ng-change="search.model.toggleList(filterOption.state,search.model.domainFilterModel.list[2])" ng-false-value="0"><label for="contactTypeFilter{{$index}}">{{filterOption.filter.value}}</label></div></li></ul></div><div class="section-div"></div><div class="filter date-range"><h3 class="advanced-group-title"><span class="title-text" ng-class="search.model.domainFilterModel.list[3].state" ng-click="search.model.dateToggle(search.model.domainFilterModel.list[3])">{{search.model.domainFilterModel.list[3].key}} </span><span ng-class="{change:search.model.domainFilterModel.list[3].state.changed}"></span></h3><ul class="advanced-group-list select-menu" ng-class="search.model.domainFilterModel.list[3].state"><li class="advanced-search-group"><select class="rp-form-select select-options bold-txt" name="searchModel" ng-model="search.model.domainFilterModel.selectedDateRange" rp-wrapper-class="" ng-if="search.model.domainFilterModel.list[3].options.length > 0" rp-update-display-text="true" rp-select-options="search.model.domainFilterModel.list[3]" ng-change="" ng-options="option.value as option.name for option in search.model.domainFilterModel.list[3].options"></select></li><li class="advanced-search-date"><div class="date-label">Start Date</div><div class="rp-date-range select-options"><rp-input-date model="search.model.dateModel.startDateUTC" options="search.model.dateModel.options"></rp-input-date></div></li><li class="advanced-search-date"><div class="date-label">End Date</div><div class="rp-date-range select-options"><rp-input-date model="search.model.dateModel.endDateUTC" options="search.model.dateModel.options"></rp-input-date></div></li></ul><div class="section-div"></div></div></div></div></div></form></div><div class="qap-panel-help" ng-controller="HelpCtrl as help" ng-class="help.model.state"><h2 class="panel-title">{{::help.model.text.title}}</h2></div><div class="qap-panel-messaging" ng-controller="MessagesPanelCtrl" ng-class="messagesPanelModel.state"><h2 class="panel-messaging-title">{{::messagesPanelModel.translate('myMessages')}}</h2><rp-scrolling-tabs-menu model="messagesPanelModel.tabsMenu"></rp-scrolling-tabs-menu><user-messages class="tab-content" ng-show="messagesPanelModel.tabsMenu[0].isActive"></user-messages><user-activities class="tab-content" ng-show="messagesPanelModel.tabsMenu[1].isActive"></user-activities></div></div>