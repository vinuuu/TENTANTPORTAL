angular.module("summernote",[]).controller("SummernoteController",["$scope","$attrs","$timeout",function(e,n,o){"use strict";var t,i=e.summernoteConfig||{};if(angular.isDefined(n.height)&&(i.height=n.height),angular.isDefined(n.focus)&&(i.focus=!0),angular.isDefined(n.airmode)&&(i.airMode=!0),angular.isDefined(n.lang)){if(!angular.isDefined($.summernote.lang[n.lang]))throw new Error('"'+n.lang+'" lang file must be exist.');i.lang=n.lang}i.onInit=e.init,i.onEnter=function(n){e.enter({evt:n})},i.onFocus=function(n){e.focus({evt:n})},i.onPaste=function(n){e.paste({evt:n})},i.onKeyup=function(n){e.keyup({evt:n})},i.onKeydown=function(n){e.keydown({evt:n})},angular.isDefined(n.onImageUpload)&&(i.onImageUpload=function(n){e.imageUpload({files:n,editable:e.editable})}),this.activate=function(a,r,u){var l=function(){var e=r.code();r.summernote("isEmpty")&&(e=""),u&&u.$viewValue!==e&&o(function(){u.$setViewValue(e)},0)};i.onChange=function(n){r.summernote("isEmpty")&&(n=""),l(),e.change({contents:n,editable:e.editable})},i.onBlur=function(n){!i.airMode&&r.blur(),e.blur({evt:n})},angular.isDefined(n.onToolbarClick)&&r.on("summernote.toolbar.click",function(n){e.toolbarClick({evt:n})}),r.summernote(i);var s,c=r.next(".note-editor");c.find(".note-toolbar").click(function(){l(),c.hasClass("codeview")?(c.on("keyup",l),u&&(s=a.$watch(function(){return u.$modelValue},function(e){c.find(".note-codable").val(e)}))):(c.off("keyup",l),angular.isFunction(s)&&s())}),u&&(u.$render=function(){r.code(u.$viewValue||"")}),angular.isDefined(n.editable)&&(e.editable=c.find(".note-editable")),angular.isDefined(n.editor)&&(e.editor=r),t=r,r.on("$destroy",function(){r.destroy(),e.summernoteDestroyed=!0})},e.$on("$destroy",function(){e.summernoteDestroyed||t.destroy()})}]).directive("summernote",[function(){"use strict";return{restrict:"EA",transclude:!0,replace:!0,require:["summernote","^?ngModel"],controller:"SummernoteController",scope:{summernoteConfig:"=config",editable:"=",editor:"=",init:"&onInit",enter:"&onEnter",focus:"&onFocus",blur:"&onBlur",paste:"&onPaste",keyup:"&onKeyup",keydown:"&onKeydown",change:"&onChange",toolbarClick:"&onToolbarClick",imageUpload:"&onImageUpload"},template:'<div class="summernote"></div>',link:function(e,n,o,t){var i=t[0],a=t[1];i.activate(e,n,a)}}}]);