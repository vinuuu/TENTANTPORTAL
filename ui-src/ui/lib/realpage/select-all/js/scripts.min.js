!function(t,e){"use strict";t.module("rpSelectAll").factory("rpSelectAllModel",["timeout",function(n){function a(){this.init()}var c=a.prototype;return c.init=function(){var e=this;e.list=[],e.active=!0,e.selected=!1,e.changeCallback=t.noop},c.setChangeCallback=function(t){var e=this;return"function"==typeof t&&(e.changeCallback=t),e},c.setList=function(t){var e=this;return e.list=t||[],e.list.forEach(function(t){t.setChangeCallback(e.onChange.bind(e))}),e.initStatus(),e},c.setSelected=function(t){var e=this;return e.list.forEach(function(e){e.isActive()&&e.setSelected(t)}),e.selected=t,e},c.initStatus=function(){var t=this,e=0,n=0;return t.list.forEach(function(t){t.isActive()&&(e++,t.isSelected()&&n++)}),t.active=0!==e,t.selected=e===n&&0!==n,t},c.onChange=function(){var t=this;return n(t.updateStatus.bind(t)),t},c.toggle=function(){var t=this,e=!t.selected;return t.list.forEach(function(t){t.isActive()&&t.setSelected(e)}),t.selected=e,t.changeCallback(),t},c.updateStatus=function(){var t=this;return t.initStatus().changeCallback(),t},c.isActive=function(){return this.active},c.isSelected=function(){return this.selected},c.destroy=function(){var t=this;t.list=e,t.selected=e},function(t){return(new a).setList(t)}}])}(angular),function(t,e){"use strict";t.module("rpSelectAll").factory("rpSelectAllItemModel",[function(){function n(){this.init()}var a=n.prototype;return a.init=function(){var e=this;e.data={obj:{},activeKey:"active",selectionKey:"selected"},e.changeCallback=t.noop},a.setChangeCallback=function(t){var e=this;return e.changeCallback=t,e},a.setData=function(t){var e=this;return e.data=t||{},e},a.setSelected=function(t){var e=this;return e.data.obj[e.data.selectionKey]=t,e},a.onChange=function(){var t=this;return t.changeCallback(),t},a.isActive=function(){var t=this;return t.data.obj[t.data.activeKey]},a.isSelected=function(){var t=this;return t.data.obj[t.data.selectionKey]},a.destroy=function(){var t=this;t.data=e,t.changeCallback=e},function(t){return(new n).setData(t)}}])}(angular),function(t,e){"use strict";t.module("rpSelectAll").directive("rpSelectAll",[function(){return{scope:{rpModel:"=",rpLabelText:"=?"},link:function(t,n,a){var c={};c.init=function(){n.on("click",c.onClick),c.destWatch=t.$on("$destroy",c.destroy)},c.onClick=function(){t.$apply(function(){t.rpModel.toggle()})},c.destroy=function(){c.destWatch(),n.off("click"),c=e,a=e,n=e,t=e},c.init()},restrict:"E",replace:!0,templateUrl:"realpage/select-all/templates/select-all.html"}}])}(angular),angular.module("app").run(["$templateCache",function(t){t.put("realpage/select-all/templates/select-all.html",'<div class="rp-select-all" rp-stop-event="click"><span class="rp-select-all-state" ng-class="{\'selected\': rpModel.selected}"></span> <span class="rp-select-all-label">{{rpLabelText}}</span></div>')}]);