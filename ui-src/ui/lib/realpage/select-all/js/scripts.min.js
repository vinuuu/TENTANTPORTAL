!function(t,e){"use strict";t.module("rpSelectAll").factory("rpSelectAllModel",["timeout",function(n){function a(){this.init()}var i=a.prototype;return i.init=function(){var e=this;e.list=[],e.active=!0,e.selected=!1,e.changeCallback=t.noop},i.setChangeCallback=function(t){var e=this;return"function"==typeof t&&(e.changeCallback=t),e},i.setList=function(t){var e=this;return e.list=t||[],e.list.forEach(function(t){t.setChangeCallback(e.onChange.bind(e))}),e.initStatus(),e},i.setSelected=function(t){var e=this;return e.list.forEach(function(e){e.isActive()&&!e.isDisabled()&&e.setSelected(t)}),e.selected=t,e},i.initStatus=function(){var t=this,e=0,n=0;return t.list.forEach(function(t){t.isActive()&&!t.isDisabled()&&(e++,t.isSelected()&&n++)}),t.active=0!==e,t.selected=e===n&&0!==n,t},i.onChange=function(){var t=this;return n(t.updateStatus.bind(t)),t},i.toggle=function(){var t=this,e=!t.selected;return t.list.forEach(function(t){t.isActive()&&!t.isDisabled()&&t.setSelected(e)}),t.selected=e,t.changeCallback(),t},i.updateStatus=function(){var t=this;return t.initStatus().changeCallback(),t},i.isActive=function(){return this.active},i.isSelected=function(){return this.selected},i.destroy=function(){var t=this;t.list=e,t.selected=e},function(t){return(new a).setList(t)}}])}(angular),function(t,e){"use strict";t.module("rpSelectAll").factory("rpSelectAllItemModel",[function(){function n(){this.init()}var a=n.prototype;return a.init=function(){var e=this;e.data={obj:{}},e.keys={activeKey:"active",disabledKey:"disabled",selectionKey:"selected"},e.changeCallback=t.noop},a.setChangeCallback=function(t){var e=this;return e.changeCallback=t,e},a.setData=function(e){var n=this;return n.data=e||{obj:{}},t.forEach(n.keys,function(t,e){n.data[e]&&(n.keys[e]=n.data[e])}),n},a.setSelected=function(t){var e=this;return e.data.obj[e.keys.selectionKey]=t,e},a.onChange=function(){var t=this;return t.changeCallback(),t},a.isActive=function(){var t=this;return t.data.obj[t.keys.activeKey]},a.isSelected=function(){var t=this;return t.data.obj[t.keys.selectionKey]},a.isDisabled=function(){var t=this;return t.data.obj[t.keys.disabledKey]},a.destroy=function(){var t=this;t.data=e,t.changeCallback=e},function(t){return(new n).setData(t)}}])}(angular),function(t,e){"use strict";t.module("rpSelectAll").directive("rpSelectAll",[function(){return{scope:{rpModel:"=",rpLabelText:"=?"},link:function(t,n,a){var i={};i.init=function(){n.on("click",i.onClick),i.destWatch=t.$on("$destroy",i.destroy)},i.onClick=function(){t.$apply(function(){t.rpModel.toggle()})},i.destroy=function(){i.destWatch(),n.off("click"),i=e,a=e,n=e,t=e},i.init()},restrict:"E",replace:!0,templateUrl:"realpage/select-all/templates/select-all.html"}}])}(angular),angular.module("app").run(["$templateCache",function(t){t.put("realpage/select-all/templates/select-all.html",'<div class="rp-select-all" rp-stop-event="click"><span class="rp-select-all-state" ng-class="{\'selected\': rpModel.selected}"></span> <span class="rp-select-all-label">{{rpLabelText}}</span></div>')}]);