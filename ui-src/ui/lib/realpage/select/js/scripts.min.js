angular.module("rpSelect",[]),function(e){"use strict";function t(e,t){function a(a,n,r){var i=a.config.getData(),o=t(i).getTemplate();n.html(o),e(n.contents())(a)}return{scope:{model:"=",config:"="},link:a,restrict:"E",replace:!0,template:"<div class='rp-select' ng-class='config.getState()'></div>"}}e.module("rpSelect").directive("rpSelect",["$compile","rpSelectTemplate",t])}(angular),function(e){"use strict";function t(){function t(t,a,n,r){var i,o={};o.init=function(){(i=t.$eval(n.rpSelectLink)).addStateProvider(o.getState),e.extend(r.$validators,i.getValidators())},o.getState=function(){return e.extend({},r.$error)},o.init()}return{link:t,restrict:"A",require:"ngModel"}}e.module("rpSelect").directive("rpSelectLink",[t])}(angular),function(e){"use strict";function t(){function t(){this.init()}var a=t.prototype;return a.init=function(){var t=this;return t.stateProviders=[],t.data={appendToBody:!0,closeOnSelect:!0,disabled:!1,displayDataKey:"name",errorMsgs:[],groupBy:"",limit:void 0,multiple:!1,onChange:e.noop,onClose:e.noop,onHighlight:e.noop,onOpen:e.noop,onRemove:e.noop,onSelect:e.noop,options:[],optionsFilter:"filter: $select.search",optionTemplateUrl:"realpage/select/templates/select-option.html",refreshCallback:"",refreshDelay:0,required:!1,resetSearchInput:!1,searchPlaceholder:"search...",selectedMatchTemplate:"{{$select.selected[config.data.displayDataKey]}}",showClearButton:!1,size:"",theme:"bootstrap",trackBy:"$index",validators:{}},t},a.getData=function(){return this.data},a.getErrorMsgs=function(){return this.data.errorMsgs},a.getOptions=function(){return this.data.options},a.getState=function(){var t=this,a={},n=!1;return t.stateProviders.forEach(function(t){e.extend(a,t())}),t.data.errorMsgs.forEach(function(e){n||(e.active=a[e.name],n=a[e.name])}),Object.keys(a).length>0&&(a.error=!0),a},a.getValidators=function(){return this.data.validators},a.setOptions=function(e){var t=this;return t.data.options=e,t},a.addStateProvider=function(e){var t=this;return t.stateProviders.push(e),t},a.clearSelection=function(e){var t=this;return e.selected=void 0,t},a.disable=function(){var e=this;return e.data.disabled=!0,e},a.enable=function(){var e=this;return e.data.disabled=!1,e},a.extend=function(t){var a=this;return e.extend(a.data,t||{}),a},a.isDisabled=function(){return this.data.disabled},function(e){return(new t).extend(e)}}e.module("rpSelect").factory("rpSelectConfig",[t])}(angular),function(e){"use strict";function t(e){function t(){this.init()}var a=t.prototype;return a.init=function(){this.data={}},a.setData=function(e){var t=this;return t.value="",t.data=e||{},t},a.getGroupBy=function(){return this.data.groupBy?"group-by='config.data.groupBy' ":""},a.getLimit=function(){var e=this;return void 0!==e.data.limit?"limit='"+e.data.limit+"' ":""},a.getMultiple=function(){return this.data.multiple?"multiple ":""},a.getOptionsFilter=function(){var e=this;return e.data.optionsFilter?" | "+e.data.optionsFilter:""},a.getOptionTemplate=function(){var t=this;return e.get(t.data.optionTemplateUrl)},a.getRefresh=function(){return this.data.refreshCallback?"refresh='config.data.refreshCallback($select.search)' ":""},a.getRefreshDelay=function(){return this.data.refreshDelay?"refresh-delay='{{config.data.refreshDelay}}' ":""},a.getRepeat=function(){var e=this;return"repeat='option in config.data.options"+e.getOptionsFilter()+e.getTrackBy()+"'"},a.getTrackBy=function(){var e=this;return e.data.trackBy?" track by "+e.data.trackBy:""},a.getTemplate=function(){var e=this;return"<div class='rp-select-table'><div class='rp-select-cell'><ui-select "+e.getTheme()+e.getLimit()+e.getMultiple()+"rp-select-link='config' ng-model='model.selected' class='rp-select-container' ng-disabled='config.data.disabled' ng-required='config.data.required' append-to-body='{{config.data.appendToBody}}' close-on-select='{{config.data.closeOnSelect}}' on-remove='config.data.onRemove($item, $model)' on-select='config.data.onSelect($item, $model)' ng-change='config.data.onChange($select.selected)' reset-search-input='{{config.data.resetSearchInput}}'><ui-select-match class='rp-select-match' placeholder='{{config.data.searchPlaceholder}}'>"+e.data.selectedMatchTemplate+"</ui-select-match><ui-select-choices "+e.getGroupBy()+e.getRefresh()+e.getRefreshDelay()+e.getRepeat()+"class='rp-select-choices' on-highlight='config.data.onHighlight(option)'>"+e.getOptionTemplate()+"</ui-select-choices></ui-select></div><span ng-if='config.data.showClearButton' class='rp-select-clear rp-select-cell' ng-click='config.clearSelection(model)'></span></div><ul class='rp-form-error-msgs'><li ng-if='msg.active' class='rp-form-error-msg' ng-repeat='msg in config.data.errorMsgs'>{{msg.text}}</li></ul>"},a.getTheme=function(){return"theme='"+this.data.theme+"' "},function(e){return(new t).setData(e)}}e.module("rpSelect").factory("rpSelectTemplate",["$templateCache",t])}(angular),angular.module("rpSelect").run(["$templateCache",function(e){e.put("realpage/select/templates/select-option.html",'<span class="rp-select-option-text" ng-bind-html="option[config.data.displayDataKey] | highlight: $select.search"></span>')}]);