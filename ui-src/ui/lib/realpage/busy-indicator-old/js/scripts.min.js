angular.module("rpBusyIndicator",[]),function(e){"use strict";var t,r;r="templates/realpage/busy-indicator/busy-indicator.html",t="<div class='rp-busy-indicator {{model.className}} {{model.themeName}}' ng-style='model.style' ><p class='message-1'>Still loading, just a moment<dotter model='dotterModel'></dotter></p><p class='message-2'>Sorry, we couldnâ€™t complete your request<br/>at this time. Please try again later.<br/><span class='message-2-btn btn btn-primary small' ng-click='model.retry()'>Try again</span></p></div>",e.module("rpBusyIndicator").run(["$templateCache",function(e){e.put(r,t)}])}(angular),function(e,t){"use strict";var r=e.noop;e.module("rpBusyIndicator").factory("rpBusyIndicatorModel",["eventStream",function(e){return function(){var s,n=e();return s={retry:r,cancel:r,style:{},isBusy:!1,events:n,setThemeName:function(e){s.themeName=e},busy:function(){s.isBusy=!0,n.publish("busy")},error:function(){n.publish("error")},off:function(){s.isBusy=!1,n.publish("off")},destroy:function(){n.destroy()}},s.destroy=function(){n.destroy(),s.events=t,s=t},s}}])}(angular),function(e,t){"use strict";e.module("rpBusyIndicator").directive("rpBusyIndicator",["cdnVer","timeout","eventStream",function(e,r,s){return{scope:{model:"="},link:function(n,a,o){var i,c={},u={events:s()};c.init=function(){n.model&&(i=n.model,n.dotterModel=u,c.setStyles(),i.isBusy&&c.setState("busy"),n.dir=c,c.destWatch=n.$on("$destroy",c.destroy),c.setStateWatch=i.events.subscribe(c.setState))},c.setStyles=function(){var e=a.outerHeight();return i.style.lineHeight=e+"px",c},c.setState=function(e){["busy","error","off"].contains(e)&&c[e]()},c.setBg=function(){var t="../"+e+"/lib/realpage/busy-indicator/images/default.gif";return i.style.backgroundImage="url('"+t+"')",c},c.removeBg=function(){return i.style.backgroundImage="",c},c.busy=function(){c.setBg(),i.className="busy",r.cancel(c.timer1),c.timer1=r(c.showMsg,1e4)},c.showMsg=function(){i.className="busy msg",u.events.publish("start"),c.removeBg().timer2=r(i.error,5e4)},c.error=function(){i.cancel(),i.className="error",r.cancel(c.timer1),r.cancel(c.timer2),u.events.publish("stop")},c.off=function(){return c.removeBg(),i.className="",r.cancel(c.timer1),r.cancel(c.timer2),u.events.publish("stop"),c},c.destroy=function(){c.destWatch(),c.setStateWatch(),r.cancel(c.timer1),r.cancel(c.timer2),u.events.destroy(),c=t,a=t,o=t,i=t,u=t,n.model=t,n.dotterModel=t,n=t},c.init()},restrict:"E",replace:!0,templateUrl:"templates/realpage/busy-indicator/busy-indicator.html"}}])}(angular);