angular.module("rpCollapsiblePanel",[]),function(e,n){"use strict";e.module("rpCollapsiblePanel").directive("rpCollapsiblePanel",["$timeout","rpCollapsiblePanelSvc",function(o,i){var l=0;return{link:function(t,a,s){var r={},c="rpCollapsiblePanel"+ ++l;r.init=function(){r.state={isOpen:!0},r.initConfig(),c=r.config.instName,r.id=r.config.panelId,t[c]=r,o(r.setState,100),i.registerPanel(r.id,r),r.destWatch=t.$on("$destroy",r.destroy)},r.initConfig=function(){var n=t.$eval(s.rpCollapsiblePanel);r.config=e.extend({panelId:c,instName:c,onChange:e.noop,onAfterOpen:e.noop,onAfterClose:e.noop,onBeforeOpen:e.noop,onBeforeClose:e.noop},n||{})},r.setState=function(){var e={height:0,overflow:"hidden"};a.hasClass("collapse-panel")&&(r.state.isOpen=!1,a.css(e).removeClass("collapse-panel").addClass("collapsed"))},r.isOpen=function(){return r.state.isOpen},r.animHeight=function(e,n){a.animate({height:e},n||300,r.onAnimComplete)},r.closePanel=function(){r.config.onBeforeClose(),r.state.isOpen=!1,a.css("overflow","hidden").addClass("collapsed"),r.animHeight(0)},r.onAnimComplete=function(){var e=r.isOpen();e&&a.css({height:"",overflow:""}),r.config[e?"onAfterOpen":"onAfterClose"]()},r.openPanel=function(){r.config.onBeforeOpen(),r.state.isOpen=!0,r.animHeight(a[0].scrollHeight),a.removeClass("collapsed")},r.toggle=function(){r[r.isOpen()?"closePanel":"openPanel"](),r.config.onChange(r.state.isOpen)},r.destroy=function(){r.destWatch(),delete t[c],i.removePanel(r.id),r=n,s=n,a=n,c=n,t=n},r.init()},restrict:"A"}}])}(angular),function(e,n){"use strict";e.module("rpCollapsiblePanel").directive("rpCollapsiblePanelToggle",["$timeout","rpCollapsiblePanelSvc",function(o,i){var l=0;return{link:function(t,a,s){var r={},c="click.rpCollapsiblePanel",p="rpCollapsiblePanel"+ ++l;r.init=function(){r.initConfig(),p=r.config.instName||p,r.id=r.config.panelId||p,t[p]=r,a.on(c,r.toggle),o(r.setState,150),r.destWatch=t.$on("$destroy",r.destroy)},r.initConfig=function(){var n=t.$eval(s.rpCollapsiblePanelToggle)||{};r.config=e.extend({panelId:p,instName:p,onOpen:e.noop,onClose:e.noop},n||{})},r.execCallback=function(){var e=i.isOpen(r.id);r.config[e?"onOpen":"onClose"]()},r.toggle=function(){r.isBusy||(r.isBusy=!0,i.togglePanel(r.id),r.setState().execCallback(),o(function(){r.isBusy=!1},310))},r.setState=function(){var e=i.isOpen(r.id);return a[e?"removeClass":"addClass"]("collapsed"),r},r.destroy=function(){a.off(c),r.destWatch(),delete t[p],r=n,s=n,a=n,p=n,t=n,c=n},r.init()},restrict:"A"}}])}(angular),function(e,n){"use strict";e.module("rpCollapsiblePanel").service("rpCollapsiblePanelSvc",[function(){var e=this,n={};e.isOpen=function(e){return!!n[e]&&n[e].isOpen()},e.registerPanel=function(e,o){n[e]=o},e.removePanel=function(e){delete n[e]},e.togglePanel=function(e){n[e]&&n[e].toggle()}}])}(angular);