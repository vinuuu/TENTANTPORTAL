!function(e,t){"use strict";e.module("rpSideMenu").directive("rpSideMenu",[function(){return{scope:{model:"="},link:function(e,n,i){var s={},r=e.model;s.init=function(){e.sideMenu=s,s.destWatch=e.$on("$destroy",s.destroy)},s.setActive=function(e){var t=r.getActiveItem();r.isValid(t)&&r.setActive(e)},s.invokeLink=function(e){var t=r.getActiveItem();r.isValid(t)&&r.invokeLink(e)},s.invokeState=function(e){var t=r.getActiveItem();r.isValid(t)&&r.invokeState(e)},s.invokeMethod=function(e){var t=r.getActiveItem();r.isValid(t)&&(s.setActive(e),e.method(e.args))},s.destroy=function(){s.destWatch(),delete e.sideMenu,s=t,i=t,n=t,r=t,e=t},s.init()},restrict:"E",replace:!0,templateUrl:"realpage/side-menu/templates/side-menu.html"}}])}(angular),function(e,t){"use strict";e.module("rpSideMenu").factory("rpSideMenuModel",["$state","$window","eventsManager","rpMethodsRepo",function(n,i,s,r){function u(){this.init()}var a=1,c=u.prototype;return c.init=function(){var e=this;e.list=[],e.repo=r(),e.events=s(),e.events.setEvents(["change"])},c.getActiveItem=function(){var e,t=!1;return this.list.forEach(function(n){n.active&&!t&&(t=!0,e=n)}),e},c.getMethod=function(e){return this.repo.get(e)},c.setActive=function(e){var t=this;return t.list.forEach(function(t){t.active=t._id==e._id}),t.events.publish("change",e),t},c.setList=function(e){var t=this;return t.list=e||[],t.list.forEach(function(e){e._id=a++}),t},c.setSrc=function(e){var t=this;return t.repo.setSrc(e),t},c.invokeLink=function(e){var t=this;return i.location.href=e.href,t},c.invokeState=function(e){var t=this;return n.go(e.sref,e.stateParams||{}),t},c.subscribe=function(){var e=this;return e.events.subscribe.apply(e.events,arguments)},c.isValid=function(t){var n=!0;return t.validators&&e.forEach(t.validators,function(e){n&&(n=n&&e(t))}),n},c.destroy=function(){var e=this;e.list.flush(),e.repo.destroy(),e.list=t,e.repo=t},function(e){return(new u).setList(e)}}])}(angular),angular.module("rpSideMenu").run(["$templateCache",function(e){e.put("realpage/side-menu/templates/side-menu.html",'<div class="rp-side-menu-wrap"><ul class="rp-side-menu"><li class="rp-side-menu-item" ng-repeat="menuItem in model.list"><a ng-if="menuItem.sref" class="rp-side-menu-item-text" ng-click="sideMenu.invokeState(menuItem)">{{menuItem.text}} </a><span ng-if="menuItem.href" class="rp-side-menu-item-text" ng-class="{active: menuItem.active}" ng-click="sideMenu.invokeLink(menuItem)">{{menuItem.text}} </span><span ng-if="menuItem.method" class="rp-side-menu-item-text" ng-class="{active: menuItem.active}" ng-click="sideMenu.invokeMethod(menuItem)">{{menuItem.text}} </span><span ng-if="!menuItem.sref && !menuItem.href && !menuItem.method" class="rp-side-menu-item-text" ng-class="{active: menuItem.active}" ng-click="sideMenu.setActive(menuItem)">{{menuItem.text}}</span></li></ul></div>')}]);