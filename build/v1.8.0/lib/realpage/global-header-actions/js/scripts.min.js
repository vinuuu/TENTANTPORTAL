!function(n){"use strict";n.module("rpGlobalHeader").run(["rpGlobalHeaderActions",function(n){n.bind()}])}(angular),function(n){"use strict";n.module("rpGlobalHeader").service("rpGlobalHeaderActions",["$window","$timeout","$rootScope","pubsub","authentication",function(n,o,i,t,e){var u=this;u.bound=!1,u.bind=function(){u.bound||(u.bound=!0,o(u.bindEvents,100),t.subscribe("signout.rpGlobalHeader",u.signoutHandler))},u.bindEvents=function(){i.$on("rpAppStateChange",u.onSignout)},u.signoutHandler=function(){i.$emit("rpAppStateChange",{onContinue:u.signout,triggerID:"GlobalHeaderActions.signout"})},u.onSignout=function(n,o){n.defaultPrevented||"GlobalHeaderActions.signout"!=o.triggerID||o.onContinue()},u.signout=function(){e.erase().then(u.signin,u.signoutError)},u.signin=function(){i.$destroy(),n.location.href="/ui/signin/#/"},u.signoutError=function(){o(u.signin,500)}}])}(angular);