angular.module("rpScrollingTabsMenu",[]),angular.module("rpScrollingTabsMenu").run(["$templateCache",function(t){t.put("realpage/scrolling-tabs-menu/templates/scrolling-tabs-menu.html",'<div class="rp-scrolling-tabs-wrap"><div class="rp-scrolling-tabs-menu"><span ng-show="$ctrl.scrollEnabled()" ng-click="scrollScreen.scrollLeft()" ng-class="{disabled: !$ctrl.canScrollLeft()}" class="scroll-left rp-icon-angle-right text-neutral-05"></span> <span ng-show="$ctrl.scrollEnabled()" ng-click="scrollScreen.scrollRight()" ng-class="{disabled: !$ctrl.canScrollRight()}" class="scroll-right rp-icon-angle-left text-neutral-05"></span><div class="rp-scrolling-tabs-screen" rp-scrolling-tabs-screen="$ctrl.scrollScreenModel"><ul class="rp-scrolling-tabs-slider" rp-scrolling-tabs-slider="$ctrl.scrollScreenModel"><li class="rp-scrolling-tab" ng-repeat="tab in $ctrl.model.data" rp-scrolling-tab="$ctrl.scrollScreenModel"><a ng-if="tab.sref" ui-sref="{{tab.sref}}" ui-sref-active="active" class="rp-scrolling-tab-link" ng-click="$ctrl.activateTab(tab)">{{tab.text}} </a><a ng-if="tab.href" href="{{tab.href}}" class="rp-scrolling-tab-link" ng-click="$ctrl.activateTab(tab)" ng-class="{active: tab.isActive}">{{tab.text}} </a><span ng-if="!tab.href && !tab.sref" ng-click="$ctrl.activateTab(tab)" ng-class="{active: tab.isActive}" class="rp-scrolling-tab-link rp-scrolling-tab-text">{{tab.text}}</span></li></ul></div></div></div>')}]),function(t,n){"use strict";var e=1,r={bindings:{model:"="},controller:["$timeout","$rootScope","windowSize","rpScrollScreenModel",function(r,l,i,c){var o,s=this,a=c(),u="scrollingTabsMenu"+e++;s.$onInit=function(){o=s.model.getEvents(),a.setEvents(o),s.scrollScreenModel=a,s.appStateChangeWatch=t.noop,s.winWatch=i.subscribe(s.reset),s.timer=r(s.bindEvent,100)},s.activateTab=function(t){s.model.checkUnsavedChanges()?l.$emit("rpAppStateChange",{triggerID:u,onContinue:function(){s.onActivateTab(t)}}):s.onActivateTab(t)},s.bindEvent=function(){s.appStateChangeWatch=l.$on("rpAppStateChange",s.appStateChangeHandler)},s.appStateChangeHandler=function(t,n){t.defaultPrevented||n.triggerID!=u||n.onContinue()},s.onActivateTab=function(t){s.model.activate(t)},s.scrollEnabled=function(){return a.scrollEnabled()},s.canScrollLeft=function(){return a.canScrollLeft()},s.canScrollRight=function(){return a.canScrollRight()},s.reset=function(){a.flushStops().resetSliderWidth()},s.$onDestroy=function(){s.winWatch(),a.destroy(),s.appStateChangeWatch(),r.cancel(s.timer),s=n,o=n,u=n,a=n}}],templateUrl:"realpage/scrolling-tabs-menu/templates/scrolling-tabs-menu.html"};t.module("rpScrollingTabsMenu").component("rpScrollingTabsMenu",r)}(angular),function(t,n){"use strict";t.module("rpScrollingTabsMenu").factory("rpScrollingTabsMenuModel",["eventsManager",function(t){function e(){this.init()}var r=e.prototype;return r.init=function(){var n=this;return n.events=t(),n.unsavedChangesCheck=!0,n.events.setEvents(["change","beforeScroll","afterScroll"]),n},r.getData=function(){return this.data},r.getEvents=function(){return this.events},r.setData=function(t){var n=this;return n.data=t,n},r.activate=function(t){var n=this;return t.isActive||(n.data.forEach(function(n){n.isActive=n.id==t.id}),n.events.publish("change",t)),n},r.addData=function(t){var n=this;return n.data=n.data.concat(t),n},r.checkUnsavedChanges=function(){return this.unsavedChangesCheck},r.disableUnsavedChangesCheck=function(){var t=this;return t.unsavedChangesCheck=!1,t},r.subscribe=function(){var t=this;return t.events.subscribe.apply(t.events,arguments)},r.destroy=function(){var t=this;t.events.destroy(),t.events=n},function(t){return(new e).setData(t||[])}}])}(angular),function(t,n){"use strict";t.module("rpScrollingTabsMenu").factory("rpScrollScreenModel",[function(){return function(){var t={stops:[0],stopIndex:0,screenWidth:0,sliderWidth:0,allowScrollLeft:!0,allowScrollRight:!1};return t.setEvents=function(n){return t.events=n,t},t.publish=function(n,e){return t.events.publish(n,e),t},t.subscribe=function(n,e){return t.events.subscribe(n,e)},t.setScreenWidth=function(n){return t.stops.push(-n),t.screenWidth=n,t},t.setScrollWidth=function(n){return t.scrollWidth=n,t},t.getSliderWidth=function(){return t.sliderWidth},t.canScrollLeft=function(){return t.allowScrollLeft},t.canScrollRight=function(){return t.allowScrollRight},t.addStop=function(n){var e=t.stops[t.stops.length-1];t.sliderWidth+=n,t.stops[1]<60?t.stops[1]+=n:t.stops.push(e+n)},t.flushStops=function(){return t.stops=[0],t},t.resetSliderWidth=function(){return t.sliderWidth=0,t},t.resetScroll=function(){return t.stopIndex=0,t.allowScrollLeft=!0,t.allowScrollRight=!1,t},t.scrollEnabled=function(){return t.sliderWidth>t.screenWidth},t.scrollLeft=function(){return t.stopIndex++,t.updateScrollCtrls(),t.stops[t.stopIndex]},t.scrollRight=function(){return t.stopIndex--,t.updateScrollCtrls(),t.stops[t.stopIndex]},t.updateScrollCtrls=function(){var n=t.stops[t.stopIndex],e=t.stops[t.stops.length-1];t.allowScrollRight=0!==n,t.allowScrollLeft=n!=e},t.updateStopIndex=function(n){t.stops.forEach(function(e,r){n>=e&&(t.stopIndex=r)}),t.updateScrollCtrls()},t.destroy=function(){t=n},t}}])}(angular),function(t,n){"use strict";t.module("rpScrollingTabsMenu").directive("rpScrollingTab",["$timeout","windowSize","rpComputedStyle",function(t,e,r){return{link:function(l,i,c){var o={},s=l.$eval(c.rpScrollingTab);o.init=function(){o.visWatch=l.$watch(o.isVisible,function(){o.readyTimer=t(o.onReady,20)})},o.onReady=function(t){t&&(o.visWatch(),o.recordStop(),o.winWatch=e.subscribe(o.recordStop),o.destWatch=l.$on("$destroy",o.destroy))},o.recordStop=function(){t.cancel(o.timer),o.timer=t(o.addStop,100)},o.addStop=function(){s.addStop(r(i).outerWidth(!0))},o.isVisible=function(){return i.is(":visible")},o.destroy=function(){o.winWatch(),o.visWatch(),o.destWatch(),t.cancel(o.timer),t.cancel(o.visWatch),t.cancel(o.readyTimer),o=n,i=n,c=n,s=n,l=n},o.init()},restrict:"A"}}])}(angular),function(t,n){"use strict";t.module("rpScrollingTabsMenu").directive("rpScrollingTabsScreen",["$timeout","windowSize",function(t,e){return{link:function(r,l,i){var c={},o=r.$eval(i.rpScrollingTabsScreen);c.init=function(){c.visWatch=r.$watch(c.isVisible,function(){c.readyTimer=t(c.onReady,20)})},c.onReady=function(t){t&&(c.visWatch(),c.recordWidth(),r.scrollScreen=c,c.winWatch=e.subscribe(c.recordWidth),c.destWatch=r.$on("$destroy",c.destroy))},c.isVisible=function(){return l.is(":visible")},c.recordWidth=function(){t.cancel(c.setWidthTimer),c.setWidthTimer=t(c.setWidth,100)},c.setWidth=function(){c.scrollTo(0,0),o.resetScroll().setScreenWidth(l.width())},c.scrollLeft=function(){o.publish("beforeScroll"),c.scrollTo(o.scrollLeft()),o.publish("afterScroll")},c.scrollRight=function(){o.publish("beforeScroll"),c.scrollTo(o.scrollRight()),o.publish("afterScroll")},c.scrollTo=function(e,r){c.unbindScroll(),0===(r=r===n?200:r)?l.prop("scrollLeft",e):l.animate({scrollLeft:e},r),c.bindScrollTimer=t(c.bindScroll,r+100)},c.bindScroll=function(){l&&l.on("scroll.scrollingTabs",c.onScroll)},c.unbindScroll=function(){l.off("scroll.scrollingTabs")},c.onScroll=function(n){t.cancel(c.scrollTimer),c.scrollTimer=t(c.updateStopIndex,50)},c.updateStopIndex=function(){o.publish("beforeScroll");var t=l.get(0).scrollLeft;o.updateStopIndex(t),o.publish("afterScroll")},c.destroy=function(){c.visWatch(),c.winWatch(),c.destWatch(),t.cancel(c.visWatch),t.cancel(c.readyTimer),t.cancel(c.scrollTimer),t.cancel(c.setWidthTimer),t.cancel(c.bindScrollTimer),c=n,i=n,l=n,o=n,r=n},c.init()},restrict:"A"}}])}(angular),function(t,n){"use strict";t.module("rpScrollingTabsMenu").directive("rpScrollingTabsSlider",["$timeout","windowSize",function(t,e){return{link:function(r,l,i){var c={},o=r.$eval(i.rpScrollingTabsSlider);c.init=function(){c.visWatch=r.$watch(c.isVisible,function(){c.readyTimer=t(c.onReady,20)})},c.onReady=function(t){t&&(c.visWatch(),c.recordWidth(),c.winWatch=e.subscribe(c.recordWidth),c.destWatch=r.$on("$destroy",c.destroy))},c.isVisible=function(){return l.is(":visible")},c.recordWidth=function(){t.cancel(c.timer),c.timer=t(c.setWidth,500)},c.setWidth=function(){l.width(o.getSliderWidth())},c.destroy=function(){c.visWatch(),c.winWatch(),c.destWatch(),t.cancel(c.timer),t.cancel(c.visWatch),t.cancel(c.readyTimer),c=n,i=n,l=n,o=n,r=n},c.init()},restrict:"A"}}])}(angular);