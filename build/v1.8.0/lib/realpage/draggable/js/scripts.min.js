angular.module("rpDraggable",[]),function(e){"use strict";e.module("rpDraggable").factory("rpDraggableSvc",["rpPoolSvc",function(e){return e()}])}(angular),function(e){"use strict";e.module("rpDraggable").factory("rpDraggableModel",["rpDraggableSvc","point",function(a,t){var r,n=1;return function(o,l,p){var g,u={},c={},i={},s={},f=".drag"+n++,d="mouseup"+f,v="mousedown"+f,b="mousemove"+f,m="mouseleave"+f,D=l.parents(".rp-draggable-wrap");u.enabled=function(){return!!o.$eval(p.rpDragEnabled)},u.setStyles=function(e){if(e)s=e;else for(var a in s)s[a]="";return l.css(s),u},u.updateStyles=function(a){e.extend(s,a),l.css(s)},u.activateElem=function(e){if(u.enabled()){var a=l.offset(),t=D.offset();e.preventDefault(),e.stopPropagation(),c={x:e.pageX,y:e.pageY},i={y:a.top-t.top+D.scrollTop(),x:a.left-t.left+D.scrollLeft()},u.setStyles({top:i.y,left:i.x}),l.addClass("rp-drag-active"),r.on(b,u.dragElem),r.on(d,u.deactivateElem),r.on(m,u.deactivateElem),o.$apply(p.rpDragStart,l)}},u.dragElem=function(e){u.enabled()&&(g=e,u.updateStyles({top:i.y+e.pageY-c.y,left:i.x+e.pageX-c.x}),e.preventDefault(),e.stopPropagation(),o.$apply(p.rpDrag,l))},u.dragPoint=function(){return t().fromEvent(g)},u.deactivateElem=function(){u.setStyles().cleanup(),l.removeClass("rp-drag-active"),o.$apply(p.rpDragEnd,l)},u.cleanup=function(){r.off(f)},a(p.rpDraggable,u),l.on(v,u.activateElem),r=r||e.element("body")}}])}(angular),function(e){"use strict";e.module("rpDraggable").factory("rpDraggableTouchModel",["rpDraggableSvc","point",function(a,t){var r,n=1;return function(o,l,p){var g,u,c={},i={},s={},f={},d=".drag"+n++,v="touchend"+d,b="touchmove"+d,m="touchstart"+d,D="contextmenu"+d,y=l.parents(".rp-draggable-wrap");c.disableContextMenu=function(){return!1},c.enableDrag=function(e){g=setTimeout(function(){c.activateElem(e)},200),l.on(v,c.disableDrag),r.on(b,c.disableDrag),r.on(D,c.disableContextMenu)},c.disableDrag=function(){clearTimeout(g)},c.enabled=function(){return!!o.$eval(p.rpDragEnabled)},c.setStyles=function(e){if(e)f=e;else for(var a in f)f[a]="";return l.css(f),c},c.updateStyles=function(a){e.extend(f,a),l.css(f)},c.activateElem=function(e){if(c.enabled()){e.preventDefault(),e.stopPropagation();var a,t=l.offset(),n=y.offset();a={pageX:e.originalEvent.touches[0].pageX,pageY:e.originalEvent.touches[0].pageY},i={x:a.pageX,y:a.pageY},s={y:t.top-n.top+y.scrollTop(),x:t.left-n.left+y.scrollLeft()},c.setStyles({top:s.y,left:s.x}),l.addClass("rp-drag-active"),r.on(b,c.dragElem),r.on(v,c.deactivateElem),o.$apply(p.rpDragStart,l)}},c.dragElem=function(e){if(c.enabled()){e.preventDefault(),e.stopPropagation();var a={pageY:e.originalEvent.touches[0].pageY,pageX:e.originalEvent.touches[0].pageX};u=a,c.updateStyles({top:s.y+a.pageY-i.y,left:s.x+a.pageX-i.x}),o.$apply(p.rpDrag,l)}},c.dragPoint=function(){return t().fromEvent(u)},c.deactivateElem=function(){c.setStyles().cleanup(),l.removeClass("rp-drag-active"),o.$apply(p.rpDragEnd,l)},c.cleanup=function(){r.off(d),l.off(v)},a(p.rpDraggable,c),l.on(m,c.enableDrag),r=r||e.element("body")}}])}(angular),function(e){"use strict";e.module("rpDraggable").directive("rpDraggable",["deviceInfoSvc","rpDraggableModel","rpDraggableTouchModel",function(e,a,t){return{link:function(r,n,o){e.hasTouch()?t(r,n,o):a(r,n,o)},restrict:"A"}}])}(angular);