angular.module("rpGlobalHeader",[]),function(e,t){"use strict";e.module("rpGlobalHeader").controller("RpGhAppSwitcherMenuCtrl",["$scope","rpGhAppSwitcherMenuModel","rpGhAppSwitcherTabsData",function(e,a,i){var n=this;n.init=function(){e.model=a,e.tabsData=i.getData(),e.tabsMenu=i.getTabsMenu(),n.destWatch=e.$on("$destroy",n.destroy)},n.destroy=function(){n.destWatch(),n=t,e=t},n.init()}])}(angular),function(e,t){"use strict";e.module("rpGlobalHeader").controller("rpGlobalHeaderCtrl",["$scope","rpGlobalHeaderModel",function(e,a){var i=this;i.init=function(){e.model=a,i.destWatch=e.$on("$destroy",i.destroy)},i.destroy=function(){i.destWatch(),i=t,e=t},i.init()}])}(angular),function(e,t){"use strict";e.module("rpGlobalHeader").directive("rpGhAppSwitcher",[function(){return{scope:{},link:function(e,t,a){},restrict:"E",replace:!0,templateUrl:"realpage/global-header/templates/app-switcher.html"}}])}(angular),function(e){"use strict";e.module("rpGlobalHeader").directive("rpGhAppSwitcherMenu",[function(){return{scope:{},link:function(e,t,a){},restrict:"E",replace:!0,controller:"RpGhAppSwitcherMenuCtrl as appSwitcherMenu",templateUrl:"realpage/global-header/templates/app-switcher-menu.html"}}])}(angular),function(e,t){"use strict";e.module("rpGlobalHeader").directive("rpGlobalHeader",["rpGlobalHeaderModel",function(e){return{link:function(e,t,a){},restrict:"E",replace:!0,controller:"rpGlobalHeaderCtrl as header",templateUrl:"realpage/global-header/templates/header.html"}}])}(angular),function(e,t){"use strict";e.module("rpGlobalHeader").directive("rpGhUserLinksToggle",["timeout",function(a){return{link:function(i,n,r){var s={};s.init=function(){i.userLinks=s,s.on=!1,s.click="click.headerUserLinksMenu",s.destWatch=i.$on("$destroy",s.destroy)},s.toggleMenu=function(){s.on||a(s.bindHide,10),s.on=!s.on},s.bindHide=function(){s.body=s.body||e.element("body"),s.body.one(s.click,s.onBodyClick)},s.hideMenu=function(){s.on=!1},s.onBodyClick=function(){i.$apply(s.hideMenu)},s.destroy=function(){s.destWatch(),s=t,r=t,n=t,i=t},s.init()},restrict:"C"}}])}(angular),function(e,t){"use strict";e.module("rpGlobalHeader").directive("rpGhNavPrefs",["timeout","pubsub",function(e,a){return{link:function(i,n,r){var s={};s.init=function(){s.pref={dark:!1},i.ghNav=s,e(s.onChange,300),s.destWatch=i.$on("$destroy",s.destroy)},s.onChange=function(){a.publish("gn.themeUpdate",s.pref)},s.destroy=function(){s.destWatch(),s=t,r=t,n=t,i=t},s.init()},restrict:"C"}}])}(angular),function(e){"use strict";e.module("rpGlobalHeader").filter("rpGhIconPath",["cdnVer",function(e){var t={"82F7C646-599D-4AA5-A4D1-D951CCE21280":"building-1","0C9DA909-71FA-4807-BA36-7CCDE6E580EC":"building-2","0c9da909-71fa-4807-ba36-7ccde6e580ec":"cart-1","F80209A2-EFF4-4DBF-8A3D-785BCDF031A3":"cart-1","07B352BA-1001-41FB-99CD-DBA778C70914":"user-hierarchy","7E298848-4A6D-4042-BE9C-29FF2A73186C":"calculator-1","C9D127AA-E694-4394-8D6D-AADB2A37B50B":"user-1","2F29D8F5-3E6F-428A-A89C-D808C2ADFC86":"credit-card-1","6BA23040-6B36-402A-86D9-60C3594A5712":"house-2","514469EE-C813-483B-9A3A-C778209BC0A1":"user-with-phone","A6239C5A-8B0F-415E-BD7F-83D48C47388E":"bulb-1","EED3BAF4-46B3-48AC-A576-43659B233BA1":"scroll-with-house","D174779E-9DD6-4D7D-A57F-21B3FAEF611F":"webpage-1","A3EB1EAF-D7A8-41DA-9CF1-596B188BA616":"magnifying-glass-1","0AE2B7C9-6492-4F8F-BC1B-6C0B1D8663C1":"scroll-with-house","D2E30084-1F8F-46D2-A7F2-B668C423E61E":"user-with-headset","702AFBCB-0BDB-4360-B120-C852FB593512":"card-with-dots-1","CCFE2F2B-BE0B-4075-B673-110F683E51C4":"bar-chart-1","1B6A6DDF-4476-4C02-93D1-A7CEB345F39A":"pie-chart-1","955F9930-0753-43A1-9304-EAEC9F4B5626":"folder-1","696E482C-D4BA-4ECB-ADF1-7E7A7C6D606D":"line-chart-1","EA018F00-F2CE-41BF-8E87-38C84F4B40F4":"pie-chart-1","EA66353F-338E-444E-8775-06FDC6B4D020":"briefcase-1"};return function(a){return a=a.toUpperCase(),t[a]?"/"+e+"/lib/realpage/svg-icons/images/"+t[a]+".svg":""}}])}(angular),function(e){"use strict";e.module("rpGlobalHeader").service("rpGhAppSwitcherTabsData",["rpScrollingTabsMenuModel",function(t){var a,i=this;a={families:{id:"01",isActive:!1},favorites:{id:"02",isActive:!0}},i.setText=function(t){e.forEach(t,function(e,t){a[t].text=e})},i.getData=function(){return a},i.getTabsMenu=function(){return t([a.families,a.favorites])},i.activateTab=function(t){e.forEach(a,function(e,a){e.isActive=a==t})}}])}(angular),function(e,t){"use strict";e.module("rpGlobalHeader").factory("rpGhAppSwitcherMenuModel",["rpGhAppSwitcherTabsData",function(t){function a(){this.init()}var i=a.prototype;return i.init=function(){var e=this;e.families=[],e.solutions=[],e.manageLink={url:"",text:""}},i.setData=function(e){var a=this,i=0;return a.families=e.families,a.solutions=e.solutions,a.manageLinkText=e.manageLinkText,a.solutions.forEach(function(e){e.isFavorite()&&i++}),t.activateTab(0===i?"families":"favorites"),a},i.setTabsText=function(e){var a=this;return t.setText(e),a},i.setManageLink=function(t){var a=this;return e.extend(a.manageLink,t),a},new a}])}(angular),function(e,t){"use strict";e.module("rpGlobalHeader").factory("rpGlobalHeaderModel",["cdnVer","rpGhToolbarIcons","rpGhAppSwitcherMenuModel","rpGhUserLinksModel",function(t,a,i,n){function r(){this.init()}var s=r.prototype;return s.init=function(){var e=this;e.data={showNavToggle:!0,showLogo:!0,logoLink:"",logoImg1Src:"../"+t+"/lib/realpage/global-header/images/rp-logo-24x22.svg",logoImg2Src:"../"+t+"/lib/realpage/global-header/images/rp-logo-180x40.svg",showCompanyName:!1,companyNameLink:"",companyNameText:"Company Name",showUserName:!0,username:"",showInitials:!0,initials:"",showUserAvatarImg:!1,userAvatarUrl:"../"+t+"/lib/realpage/global-header/images/user-avatar.jpg"},e.userLinks=n,e.toolbarIcons=a},s.setToolbarIcons=function(e){var t=this;return t.toolbarIcons.setData(e),t},s.setUserLinks=function(e){var t=this;return t.userLinks.setData(e),t},s.extendData=function(t){var a=this;return e.extend(a.data,t||{}),a},new r}])}(angular),function(e,t){"use strict";e.module("rpGlobalHeader").factory("rpGhToolbarIcons",["rpGhLinkSvc",function(t){function a(){this.init()}var i=a.prototype;return i.init=function(){var e=this;e.list=[],e.data={homeIcon:{active:!1,className:"home"},appSwitcher:{active:!1,isAppSwitcher:!0},helpIcon:{active:!1,className:"help",method:e.showHelp.bind(e)},settingsIcon:{active:!1,className:"settings"},shoppingCartIcon:{active:!1,className:"shopping-cart"},notificationsIcon:{active:!1,className:"notifications"}},e.setList(e.data)},i.setList=function(t){var a=this;return e.forEach(a.data,function(e){a.list.push(e)}),a},i.setData=function(t){var a=this;return e.forEach(t,function(t,i){e.extend(a.data[i],t)}),a},i.showHelp=function(){return this},i.invoke=function(e){var a=this;return t.invoke(e),a},new a}])}(angular),function(e,t){"use strict";e.module("rpGlobalHeader").factory("rpGhUserLinksModel",["rpGhLinkSvc",function(e){function t(){this.init()}var a=t.prototype;return a.init=function(){var e=this;e.links=[],e.visible=!1},a.setData=function(e){var t=this;return t.links=e||[],t},a.invoke=function(t){var a=this;return e.invoke(t),a},a.toggleMenu=function(){var e=this;return e.visible=!e.visible,e},a.destroy=function(){this.links.flush()},new t}])}(angular),function(e,t){"use strict";e.module("rpGlobalHeader").service("rpGhLinkSvc",["$window","$state","pubsub",function(e,t,a){var i=this;i.invoke=function(e){e.url?i.invokeLink(e):e.sref?i.invokeState(e):e.method?i.invokeMethod(e):e.event&&i.invokeEvent(e)},i.invokeLink=function(t){t.newWin?e.open(t.url,"_blank").focus():e.location.href=t.url},i.invokeState=function(e){t.go(e.sref,e.stateParams||{})},i.invokeMethod=function(e){e.method(e.args)},i.invokeEvent=function(e){a.publish(e.event,e.eventData||{})}}])}(angular),angular.module("rpGlobalHeader").run(["$templateCache",function(e){e.put("realpage/global-header/templates/app-switcher-menu.html",'<div class="rp-gh-app-switcher-menu"><div rp-stop-event="click" class="rp-gh-app-switcher-menu-tabs"><rp-scrolling-tabs-menu model="tabsMenu"></rp-scrolling-tabs-menu></div><div class="rp-gh-app-switcher-menu-content"><div ng-show="tabsData.families.isActive" class="rp-gh-app-switcher-services"><div class="rp-gh-app-switcher-service" ng-repeat="family in model.families"><div class="rp-gh-app-switcher-service-title"><span svg-src="{{family.getIconId() | productIconPath}}" class="rp-gh-app-switcher-service-icon rp-svg-icon"></span> {{::family.data.familyName}}</div><div class="rp-gh-app-switcher-product" ng-repeat="soln in family.solutions"><span svg-src="{{soln.getIconId() | productIconPath}}" class="rp-gh-app-switcher-product-icon rp-svg-icon"></span> <span class="rp-gh-app-switcher-product-title-wrap"><span class="rp-gh-app-switcher-product-title" ng-bind-html="soln.data.solutionName"></span> </span><a ng-href="{{soln.data.productUrl}}" ng-attr-target="{{soln.getWinId()}}" class="rp-gh-app-switcher-product-link"></a><div class="rp-gh-app-switcher-product-disabled" ng-if="soln.isProductDisabled()"></div></div></div></div><div ng-show="tabsData.favorites.isActive" class="rp-gh-app-switcher-favorites"><div ng-if="soln.isFavorite()" class="rp-gh-app-switcher-product" ng-repeat="soln in model.solutions"><span svg-src="{{soln.getIconId() | productIconPath}}" class="rp-gh-app-switcher-product-icon rp-svg-icon"></span> <span class="rp-gh-app-switcher-product-title-wrap"><span class="rp-gh-app-switcher-product-title" ng-bind-html="soln.data.solutionName"></span> </span><a ng-href="{{soln.data.productUrl}}" ng-attr-target="{{soln.getWinId()}}" class="rp-gh-app-switcher-product-link"></a><div class="rp-gh-app-switcher-product-disabled" ng-if="soln.isProductDisabled()"></div></div></div></div><a ng-href="{{model.manageLink.url}}" class="rp-gh-app-switcher-manage">{{model.manageLink.text}}</a></div>'),e.put("realpage/global-header/templates/app-switcher.html",'<div class="rp-gh-app-switcher"><rp-toggle model="showAppSwitcherMenu" options="{bodyToggle: true}" class="rp-gh-toolbar-icon apps toggle"></rp-toggle><rp-gh-app-switcher-menu ng-show="showAppSwitcherMenu"><rp-gh-app-switcher-menu></rp-gh-app-switcher-menu></rp-gh-app-switcher-menu></div>'),e.put("realpage/global-header/templates/header.html",'<div class="rp-gh"><rp-global-nav-toggle ng-if="model.data.showNavToggle"></rp-global-nav-toggle><div class="rp-gh-logo"><a href="{{model.data.logoLink}}"><img class="rp-gh-logo-img-1" ng-src="{{model.data.logoImg1Src}}" alt="logo">\x3c!--\n            <img class="rp-gh-logo-img-2" ng-src="{{model.data.logoImg2Src}}" alt="logo" />\n            --\x3e</a></div><div class="rp-gh-names"><span class="rp-gh-name-rp">RealPage</span><h1 class="rp-gh-name-company" ng-if="model.data.showCompanyName"><a href="{{model.data.companyNameLink}}">{{model.data.companyNameText}}</a></h1></div><div class="rp-gh-user-links"><div class="rp-gh-user-links-toggle" ng-click="userLinks.toggleMenu()"><div class="rp-gh-user-avatar"><p class="rp-gh-user-initials" ng-if="model.data.showInitials">{{model.data.userInitials}}</p></div><div class="rp-gh-user-info"><p class="rp-gh-user-name">{{model.data.username}}</p><p class="rp-gh-user-role">{{model.data.userRole}}</p></div></div><div ng-show="userLinks.on" class="rp-gh-user-links-menu"><ul class="rp-gh-user-links-list"><li class="rp-gh-user-links-menu-item" ng-click="model.userLinks.invoke(link)" ng-repeat="link in model.userLinks.links">{{link.text}}</li></ul><div rp-stop-event="click" class="rp-gh-nav-prefs"><div class="rp-gh-nav-pref"><rp-switch class="label-1 theme-1" rp-model="ghNav.pref.dark" rp-on-change="ghNav.onChange()" rp-label-text="\'Dark Navigation\'"></rp-switch></div></div></div></div><div class="rp-gh-toolbar"><div ng-if="icon.active" class="rp-gh-toolbar-icon-wrap" ng-repeat="icon in model.toolbarIcons.list"><span data-badge="{{icon.count}}" ng-if="icon.active && !icon.isAppSwitcher" ng-click="model.toolbarIcons.invoke(icon)" class="rp-gh-toolbar-icon {{icon.className}}"></span><rp-gh-app-switcher ng-if="icon.active && icon.isAppSwitcher"></rp-gh-app-switcher></div></div></div>')}]);