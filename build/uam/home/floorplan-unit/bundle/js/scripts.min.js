!function(a,b){"use strict";function c(a,c,d){var e=this;e.init=function(){e.tabsData=d,e.tabsMenu=c.init().getMenu(),e.message="Welcome to Floor Plan Units",e.destWatch=a.$on("$destroy",e.destroy)},e.destroy=function(){e.destWatch(),c.reset(),c=b,e=b,a=b},e.init()}a.module("uam").controller("FloorPlanUnitCtrl",["$scope","amenitiesTabsMenu","amenitiesTabsData",c])}(angular),function(a,b){"use strict";function c(a,c){var d={};return d.init=function(){return d.tabsData=c.getTabsList(),d.tabsMenu=a().setOptions(d.tabsData),d},d.getData=function(){return d.tabsData},d.getMenu=function(){return d.tabsMenu},d.subscribe=function(a){d.tabsMenu.subscribe("change",a)},d.reset=function(){d.tabsMenu.destroy(),d.tabsData=b,d.tabsMenu=b},d.init()}a.module("uam").factory("amenitiesTabsMenu",["rpTabsMenuModel","amenitiesTabsData",c])}(angular),function(a,b){"use strict";function c(){var a={};return a.amenities={id:"01",isActive:!0,text:"Amenities",name:"Amenities"},a.properties={id:"02",isActive:!1,text:"Properties",name:"Properties"},a.getTabsList=function(){return[a.amenities,a.properties]},a}a.module("uam").factory("amenitiesTabsData",[c])}(angular),angular.module("uam").run(["$templateCache",function(a){a.put("home/floorplan-unit/amenities/templates/amenity-name.html",'<div fpu-amenity-actions class="grid-col-cursor" ng-click="amenityActions.showAmenity(record)"><span class="grid-col-name">{{record.amenityName}}</span> <span class="grid-col-synd-name">{{record.amenitySyndicationName}}</span></div>'),a.put("home/floorplan-unit/amenities/templates/amenity-price.html",'<div fpu-amenity-actions class="grid-col-cursor" ng-click="amenityActions.showAmenity(record)"><span class="grid-col-price">{{record.priceRange}}</span></div>'),a.put("home/floorplan-unit/amenities/templates/amenity-prop.html",'<div fpu-amenity-actions class="grid-col-cursor" ng-click="amenityActions.showAmenity(record)"><span class="grid-col-prop">{{record.totalProperties}}</span></div>'),a.put("home/floorplan-unit/amenities/templates/delete-amenities.html",'<div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Delete Amenities</h5></div><div class="modal-body p-lg"><p>You are about to remove {{ctrl.model.amenityNames}} from the amenity’s list. It will no longer be listed for your property or available to assign to floor plans /units.</p></div><div class="modal-footer text-center"><button type="button" class="btn rounded neutral p-x-md" ng-click="ctrl.hideModal()">Cancel</button> <button type="button" class="btn rounded primary p-x-md" ng-click="ctrl.confirmDeleteSelectedAmenities()">Delete</button></div></div></div></div>'),a.put("home/floorplan-unit/amenities/templates/delete-amenity.html",'<div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Delete Amenities</h5></div><div class="modal-body p-lg"><p>You are about to delete {{ctrl.model.delRecord.amenityName}} from the Master list. It will no longer be listed or available to assign to properties..</p></div><div class="modal-footer text-center"><button type="button" class="btn rounded neutral p-x-md" ng-click="ctrl.hideDeleteAmenityModal()">Cancel</button> <button type="button" class="btn rounded primary p-x-md" ng-click="ctrl.confirmDeleteAmenity()">Delete</button></div></div></div></div>'),a.put("home/floorplan-unit/amenities/templates/edit-amenity.html",'<div fpu-amenity-actions><a ng-click="amenityActions.editAmenity(record)"><i class="icon rp-icon-pencil"></i></a></div>')}]),function(a,b){"use strict";function c(a,c,d,e,f,g,h){var i=this;i.init=function(){e.setSrc(i),f.setSrc(i),i.model=d,i.grid=d.grid,i.gridPagination=d.gridPagination,i.loadData(),i.destWatch=a.$on("$destroy",i.destroy)},i.assignSelAmenitiesToProperties=function(){var a=d.getSelectedRecords();h.getSelectData(a)},i.mergeAmenities=function(){},i.createNewAmenity=function(){d.createNewAmenity()},i.deleteSelectedAmenities=function(){d.setSelectedAmenitiesForDelete(),d.isAmenitiesSelected&&d.showDeleteConfirmModal()},i.deleteAmenity=function(a){d.setDeleteAmenity(a),d.showDeleteAmenityConfirmModal(a)},i.editAmenity=function(a){d.editAmenity(a)},i.view=function(a){d.view(a)},i.edit=function(a){d.edit(a)},i.loadData=function(){d.getData(c)},i.showSelectionChanges=function(){d.showSelectionChanges()},i.resetGridFilters=function(){d.resetGridFilters()},i.setData=function(a){d.setData(a.records).goToPage({number:0})},i.destroy=function(){i.destWatch(),i=b,d=b,a=b},i.init()}a.module("uam").controller("FpuAmenitiesCtrl",["$scope","fpuAmenitiesDataSvc","amenitiesModel","fpuAmenitiesListConfig","fpuAmenitiesListActions","amenitiesDeleteSvc","assignAmenitiesToProperties",c])}(angular),function(a,b){"use strict";function c(a,c,d){var e=this;e.init=function(){e.model=c,e.destWatch=a.$on("$destroy",e.destroy)},e.hideModal=function(){c.hideDeleteConfirmModal()},e.hideDeleteAmenityModal=function(){c.hideDeleteAmenityConfirmModal()},e.confirmDeleteSelectedAmenities=function(){e.hideModal(),c.deleteSelectedAmenities(d)},e.confirmDeleteAmenity=function(){e.hideDeleteAmenityModal(),c.deleteAmenity(d)},e.selectedFloorPlansForDisplay=function(){},e.destroy=function(){e.destWatch(),e=b,a=b},e.init()}a.module("uam").controller("FpuAmenityPropDetDeleteConfirmModalCtrl",["$scope","amenitiesModel","amenitiesDeleteSvc",c])}(angular),function(a,b){"use strict";function c(a,c,d,e){function f(f,g,h){var i={};i.init=function(){f.amenityActions=i,i.destWatch=f.$on("$destroy",i.destroy)},i.showAmenity=function(a){e.set(a),d.show()},i.editAmenity=function(b){c.set(b),a.show()},i.destroy=function(){i.destWatch(),i=b,f=b},i.init()}return{link:f,restrict:"A"}}a.module("uam").directive("fpuAmenityActions",["fpuEditAmenityAside","fpuEditAmenityContext","fpuAmenityDetailsAside","fpuAmenityDetailsContext",c])}(angular),function(a){"use strict";function b(a,b){var c=a();return c.get=function(a){return b({actions:[{text:"View",method:c.getMethod("view"),data:a},{text:"Edit",method:c.getMethod("edit"),data:a},{text:"Assign Properties",method:c.getMethod("assignSelAmenitiesToProperties"),data:a},{text:"Delete",method:c.getMethod("deleteAmenity"),data:a}],menuOffsetLeft:-230})},c}a.module("uam").factory("fpuAmenitiesListActions",["rpGridActions","rpActionsMenuModel",b])}(angular),function(a){"use strict";function b(a,b){var c=a();return c.get=function(){return[{key:"isSelected",type:"select",idKey:"amenityID"},{key:"amenityName",type:"custom",templateUrl:"home/floorplan-unit/amenities/templates/amenity-name.html"},{key:"totalProperties",type:"custom",templateUrl:"home/floorplan-unit/amenities/templates/amenity-prop.html"},{key:"priceRange",type:"custom",templateUrl:"home/floorplan-unit/amenities/templates/amenity-price.html"},{key:"edit",type:"custom",templateUrl:"home/floorplan-unit/amenities/templates/edit-amenity.html",className:"rp-actions-menu-item-1"},{key:"more",type:"actionsMenu",getActions:b.get}]},c.getHeaders=function(){return[[{key:"amenityID",className:"amenity-id"},{key:"amenityName",text:"Name",isSortable:!0,className:"amenity-name"},{key:"totalProperties",text:"Properties",isSortable:!0,className:"total-properties"},{key:"priceRange",text:"Price",isSortable:!0,className:"price-price"},{key:"edit",className:"edit"},{key:"more",className:"more"}]]},c.getFilters=function(){return[{key:"amenityID"},{key:"amenityName",type:"text",filterDelay:0,placeholder:"Search by amenity name"},{key:"totalProperties"},{key:"priceRange",type:"text",filterDelay:0,placeholder:"No min - No max"},{key:"edit"},{key:"more"}]},c.getTrackSelectionConfig=function(){var a={};return c.get().forEach(function(b){"select"==b.type&&(a.idKey=b.idKey,a.selectKey=b.key)}),a},c}a.module("uam").factory("fpuAmenitiesListConfig",["rpGridConfig","fpuAmenitiesListActions",b])}(angular),function(a){"use strict";function b(a,b,c,d){var e={};return e.init=function(){return e},e.getSelectData=function(b){var c={amenityID:1,PMCID:2};a.getData(c).then(e.setDataFromSvc,e.setDataErr)},e.setDataFromSvc=function(a){return b.setData(a),e.setAllData(b.getList()),e.assignPropertiesToAmenity(),e},e.getPropertyList=function(){return b.getSelectedList()},e.assignPropertiesToAmenity=function(){d.showAsideModal()},e.setAllData=function(a){return c.setAllData(a),e},e.init()}a.module("uam").factory("assignAmenitiesToProperties",["selectAmenityDetailDataSvc","SelectAmenitiesListManager","amenityAssignPropModel","AmenityAssignPropAsideManager",b])}(angular),function(a,b){"use strict";function c(a,b,c,d,e,f,g){var h={},i=c(),j=d(),k=f(),l={recordsPerPage:8};return h.asideScope={},h.init=function(){return h.grid=i,j.watch(i),i.setConfig(b),k.setConfig(l),k.setGrid(i).trackSelection(b.getTrackSelectionConfig()),h.gridPagination=k,h.deleteAmenitiesModal=g({show:!1,placement:"center",templateUrl:"home/floorplan-unit/amenities/templates/delete-amenities.html",backdrop:!0,controller:"FpuAmenityPropDetDeleteConfirmModalCtrl",controllerAs:"ctrl"}),h.deleteAmenityModal=g({show:!1,placement:"center",templateUrl:"home/floorplan-unit/amenities/templates/delete-amenity.html",backdrop:!0,controller:"FpuAmenityPropDetDeleteConfirmModalCtrl",controllerAs:"ctrl"}),h},h.createNewAmenity=function(){},h.edit=function(a){},h.view=function(a){},h.setDeleteAmenity=function(a){h.delRecord=a},h.getDeleteAmenity=function(){return h.delRecord},h.deleteAmenity=function(){var a=h.getDeleteAmenity();a.isSelected=!1,i.deleteRow("amenityID",a)},h.setSelectedAmenitiesForDelete=function(){h.amenityNames="";var b=h.getSelectedRecords();return h.isAmenitiesSelected=!1,b.selected.length>0&&(h.isAmenitiesSelected=!0,b.selected.forEach(function(b){var c=a("filter")(h.gridPagination.data,{amenityID:b});c.length>0&&(h.amenityNames+=c[0].amenityName+", ")})),h},h.deleteSelectedAmenities=function(b){var c=h.getSelectedRecords();c.selected.length>0&&c.selected.forEach(function(b){var c=a("filter")(h.gridPagination.data,{amenityID:b});if(c.length>0){i.deleteRow("amenityID",c[0])}})},h.showDeleteConfirmModal=function(){h.deleteAmenitiesModal.$promise.then(function(){h.deleteAmenitiesModal.show()})},h.hideDeleteConfirmModal=function(){h.deleteAmenitiesModal.$promise.then(function(){h.deleteAmenitiesModal.hide()})},h.showDeleteAmenityConfirmModal=function(){h.deleteAmenityModal.$promise.then(function(){h.deleteAmenityModal.show()})},h.hideDeleteAmenityConfirmModal=function(){h.deleteAmenityModal.$promise.then(function(){h.deleteAmenityModal.hide()})},h.editAmenity=function(a){},h.getData=function(a){var b={amenityID:1,PMCID:2};a.getData(b).then(h.setDataFromSvc,h.setDataErr)},h.getSelectedRecords=function(){return i.getSelectionChanges()},h.setDataFromSvc=function(a){h.gridPagination.setData(a.records).goToPage({number:0})},h.setDataErr=function(a){},h.resetGridFilters=function(){i.resetFilters()},h.init()}a.module("uam").factory("amenitiesModel",["$filter","fpuAmenitiesListConfig","rpGridModel","rpGridTransform","fpuAmenitiesListActions","rpGridPaginationModel","$modal",c])}(angular),function(a,b){"use strict";function c(a){function b(){this.init()}var c=b.prototype;return c.init=function(){var a=this;a.list=[],a.selectedList=[]},c.getList=function(){return this.list},c.getSelectedList=function(){return this.selectedList},c.setData=function(a){var b=this;return b.list=a,b.updateSelectedList(),b},c.invertSelectedList=function(){var b,c,d=this;return b={isSelected:!1},d.selectedList.flush(),c=a("filter")(d.list.records,b),c.forEach(function(a){d.selectedList.push(a)}),d},c.updateSelectedList=function(){var b,c,d=this;return b={isSelected:!0},d.selectedList.flush(),c=a("filter")(d.list.records,b),c.forEach(function(a){d.selectedList.push(a)}),d},c.reset=function(){var a=this;a.list=[],a.selectedList=[]},new b}a.module("uam").factory("SelectAmenitiesListManager",["$filter",c])}(angular),function(a){"use strict";function b(a,b,c){var d={},e={};return d.addAmenity=function(b){return a("/api/add",e,{save:{method:"POST"}})},d}a.module("uam").factory("amenitiesAddSvc",["$resource","$q","$http",b])}(angular),function(a){"use strict";function b(a,b){var c,d,e;return d="/api/delete",c={abort:function(){return e&&e.resolve&&e.resolve(),c},deleteSelectedAmenity:function(c){e=a.defer();var f=d+"/"+c.amenityID;return b({data:{},url:f,cache:!1,method:"DELETE",timeout:e.promise})}}}a.module("uam").factory("amenitiesDeleteSvc",["$q","$http",b])}(angular),function(a){"use strict";function b(a,b){var c={};return c.url={urlParm:"/api/floorplan-unit/amenities-list"},c.requests={getReq:null},c.getDataReq=function(b){var d={amenityID:b.amenityID,PMCID:b.PMCID},e=c.url.urlParm;return a(e,d,{get:{method:"GET",cancellable:!0}}).get()},c.getData=function(a){return c.requests.getReq=c.getDataReq(a),c.requests.getReq.$promise},c}a.module("uam").factory("fpuAmenitiesDataSvc",["$resource","$window",b])}(angular),function(a){"use strict";function b(a,b){var c,d,e;return d="/api/update",c={abort:function(){return e&&e.resolve&&e.resolve(),c},updateAmenity:function(c){e=a.defer();var f=d+"/"+c.amenityID;return b({data:{},url:f,cache:!1,method:"PUT",timeout:e.promise})}}}a.module("uam").factory("amenitiesUpdateSvc",["$q","$http",b])}(angular),function(a){"use strict";function b(a,b){var c={};return c.url={urlParm:"/api/floorplan-unit/assign-select-amenities"},c.requests={getReq:null},c.getDataReq=function(b){var d={amenityID:b.amenityID,PMCID:b.PMCID},e=c.url.urlParm;return a(e,d,{get:{method:"GET",cancellable:!0}}).get()},c.getData=function(a){return c.requests.getReq=c.getDataReq(a),c.requests.getReq.$promise},c}a.module("uam").factory("selectAmenityDetailDataSvc",["$resource","$window",b])}(angular),function(a,b){"use strict";function c(a){var c=this;c.init=function(){c.message="Welcome to Floor Plan Unit Properties",c.destWatch=a.$on("$destroy",c.destroy)},c.destroy=function(){c.destWatch(),c=b,a=b},c.init()}a.module("uam").controller("FloorPlanUnitPropertiesCtrl",["$scope",c])}(angular),function(a,b){"use strict";function c(a,c,d,e,f,g,h){var i=this;i.init=function(){i.isPageActive=!0,d.setSrc(i),i.model=c,i.grid=c.grid,i.gridPagination=c.gridPagination,i.loadData(),i.destWatch=a.$on("$destroy",i.destroy)},i.loadData=function(){var a=g.get();c.setSelectedAmenity(a),i.getData()},i.getData=function(){var a={amenityID:1,PMCID:2};e.getData(a).then(i.setDataFromSvc,i.setDataErr)},c.closeAsideDetail=function(){h.hide(),i.isPageActive=!1},i.resetGridFilters=function(){c.resetGridFilters()},i.assignPropertiesToAmenity=function(){c.setAllData(f.getList()),c.assignPropertiesToAmenity()},i.setDataFromSvc=function(a){return f.setData(a),c.setGridPagination(),c},i.setDataErr=function(a){},i.destroy=function(){i.destWatch(),i=b,a=b},i.init()}a.module("uam").controller("FpuAmenityDetailsCtrl",["$scope","amenityDetailsModel","fpuAmenityDetailsConfig","fpuAmenityDetailDataSvc","AmenitiesListManager","fpuAmenityDetailsContext","fpuAmenityDetailsAside",c])}(angular),function(a){"use strict";function b(a,b){function c(c,d,e){var f={};f.init=function(){c.amenityDetailActions=f,f.destWatch=c.$on("$destroy",f.destroy)},f.showPropDetails=function(c){b.set(c),a.show()},f.destroy=function(){f.destWatch(),f=void 0,e=void 0,d=void 0,c=void 0},f.init()}return{link:c,restrict:"A"}}a.module("uam").directive("fpuAmenityDetailActions",["fpuAmenityPropDetailsAside","fpuAmenityPropDetailsContext",b])}(angular),function(a,b){"use strict";function c(a){function b(){this.init()}var c=b.prototype;return c.init=function(){var a=this;a.list=[],a.selectedList=[]},c.getList=function(){return this.list},c.getSelectedList=function(){return this.selectedList},c.setData=function(a){var b=this;return b.list=a,b.updateSelectedList(),b},c.invertSelectedList=function(){var b,c,d=this;return b={isSelected:!1},d.selectedList.flush(),c=a("filter")(d.list.records,b),c.forEach(function(a){d.selectedList.push(a)}),d},c.updateSelectedList=function(){var b,c,d=this;return b={isSelected:!0},d.selectedList.flush(),c=a("filter")(d.list.records,b),c.forEach(function(a){d.selectedList.push(a)}),d},c.reset=function(){var a=this;a.list=[],a.selectedList=[]},new b}a.module("uam").factory("AmenitiesListManager",["$filter",c])}(angular),function(a){"use strict";function b(a){var b=a();return b.get=function(){return[{key:"siteName",type:"custom",templateUrl:"home/floorplan-unit/amenity-details/templates/name.html"},{key:"floorPlans",type:"custom",templateUrl:"home/floorplan-unit/amenity-details/templates/floorplans.html"},{key:"units",type:"custom",templateUrl:"home/floorplan-unit/amenity-details/templates/units.html"}]},b.getHeaders=function(){return[[{key:"siteName",text:"Name",isSortable:!0,className:"site-name"},{key:"floorPlans",text:"Floor Plans",isSortable:!0,className:"floor-plans"},{key:"units",text:"Units",isSortable:!0,className:"units"}]]},b.getFilters=function(){return[{key:"siteName",type:"text",filterDelay:0,placeholder:"Search by Property Name"},{key:"floorPlans",type:"text",filterDelay:0,placeholder:"Search by Floor Plan Count"},{key:"units",type:"text",filterDelay:0,placeholder:"Search by Units Count"}]},b.getTrackSelectionConfig=function(){var a={};return b.get().forEach(function(b){"select"==b.type&&(a.idKey=b.idKey,a.selectKey=b.key)}),a},b}a.module("uam").factory("fpuAmenityDetailsConfig",["rpGridConfig",b])}(angular),function(a,b){"use strict";function c(a,b,c,d,e,f,g,h){var i={},j=a(),k=b(),l=c(),m={recordsPerPage:5};return i.init=function(){return i.grid=j,k.watch(j),j.setConfig(d),l.setConfig(m),l.setGrid(j).trackSelection(d.getTrackSelectionConfig()),i.gridPagination=l,f.subscribe("amenityDetails.updateSelectedList",i.setGridPagination),i},i.setSelectedAmenity=function(a){i.record=a},i.assignPropertiesToAmenity=function(){h.showAsideModal()},i.getPropertyList=function(){return g.getSelectedList()},i.setGridPagination=function(){i.gridPagination.setData(i.getPropertyList()).goToPage({number:0})},i.setAllData=function(a){return e.setAllData(a),i},i.getSelectedRecords=function(){return l.getSelectionChanges()},i.showSelectionChanges=function(){j.getSelectionChanges()},i.resetGridFilters=function(){j.resetFilters()},i.init()}a.module("uam").factory("amenityDetailsModel",["rpGridModel","rpGridTransform","rpGridPaginationModel","fpuAmenityDetailsConfig","amenityAssignPropModel","pubsub","AmenitiesListManager","AmenityAssignPropAsideManager",c])}(angular),function(a,b){"use strict";function c(a){return a("home/floorplan-unit/amenity-details/templates/index.html")}a.module("uam").factory("fpuAmenityDetailsAside",["rightAsideModal",c])}(angular),function(a,b){"use strict";function c(a){return a()}a.module("uam").factory("fpuAmenityDetailsContext",["modalContext",c])}(angular),function(a){"use strict";function b(a,b){var c={};return c.url={urlParm:"/api/floorplan-unit/properties-by-amenity"},c.requests={getReq:null},c.getDataReq=function(b){var d={amenityID:b.amenityID,PMCID:b.PMCID},e=c.url.urlParm;return a(e,d,{get:{method:"GET",cancellable:!0}}).get()},c.getData=function(a){return c.requests.getReq=c.getDataReq(a),c.requests.getReq.$promise},c}a.module("uam").factory("fpuAmenityDetailDataSvc",["$resource","$window",b])}(angular),angular.module("uam").run(["$templateCache",function(a){a.put("home/floorplan-unit/amenity-details/templates/floorplans.html",'<div class="grid-col-cursor" fpu-amenity-detail-actions ng-click="amenityDetailActions.showPropDetails(record)"><span class="grid-col-floorPlans">{{record.floorPlans}}</span></div>'),a.put("home/floorplan-unit/amenity-details/templates/index.html",'<div ng-controller="FpuAmenityDetailsCtrl as amenityDetails" class="rp-aside-modal rp-aside-modal-right rp-aside-modal-show rp-aside-modal-extend-modal-1"><div class="rp-aside-modal-header rp-aside-modal-header-wrap extend" ng-if="amenityDetails.isPageActive"><a ng-click="amenityDetails.model.closeAsideDetail()"><i class="rp-aside-modal-close font-10"></i></a><h2 class="rp-aside-modal-header-title">Amenity Details - {{amenityDetails.model.record.amenityName}}</h2></div><div class="rp-aside-modal-content floorplan-amenity-details" ng-if="amenityDetails.isPageActive"><div class="row-detail"><div class="row-detail-head"><div class="grid-col-name">Name</div><div class="grid-col-prop">Properties</div><div class="grid-col-price">Price</div></div><div class="row-detail-body"><div class="grid-col-name"><span class="amenity-name">{{amenityDetails.model.record.amenityName}}</span><br><span class="synd-name">{{amenityDetails.model.record.amenitySyndicationName}}</span></div><div class="grid-col-prop">{{amenityDetails.model.record.totalProperties}}</div><div class="grid-col-price">{{amenityDetails.model.record.priceRange}}</div></div></div><div class="prop-detail"><div class="prop-detail-header-title">Properties</div><div class="new-btn"><button class="btn rounded primary" ng-click="amenityDetails.assignPropertiesToAmenity()"><i class="fa fa-fw fa-plus icon-size"></i> Assign Properties</button></div><div class="filters"><div class="grid-controls">\x3c!-- <div class="grid-control-item ">\n                        <i class="icon fa fa-th-list "></i>\n                    </div>\n                    <div class="grid-control-item ">\n                        <i class="icon fa  fa-th-large icon-color"></i>\n                    </div> --\x3e<div class="grid-control-item"><i class="icon rp-icon-printer"></i> <span class="text">Print</span></div><div class="grid-control-item"><rp-toggle model="amenityDetails.grid.filtersModel.state.active" options="{\n                                defaultText: \'Filter\' ,\n                                activeIconClass: \'rp-icon-filter\',\n                                defaultIconClass: \'rp-icon-filter active\'\n                            }"></rp-toggle></div></div></div></div><div class="prop-detail-grid"><rp-grid model="amenityDetails.grid"></rp-grid><rp-grid-pagination model="amenityDetails.gridPagination"></rp-grid-pagination></div></div></div>'),a.put("home/floorplan-unit/amenity-details/templates/name.html",'<div class="grid-col-cursor" fpu-amenity-detail-actions ng-click="amenityDetailActions.showPropDetails(record)"><span class="grid-col-name">{{record.siteName}}</span></div>'),a.put("home/floorplan-unit/amenity-details/templates/units.html",'<div class="grid-col-cursor" fpu-amenity-detail-actions ng-click="amenityDetailActions.showPropDetails(record)"><span class="grid-col-units">{{record.units}}</span></div>')}]),function(a,b){"use strict";function c(a,c,d){var e=this;e.init=function(){e.amenity=d.get(),e.destWatch=a.$on("$destroy",e.destroy)},e.destroy=function(){e.destWatch(),e=b,a=b},e.init()}a.module("uam").controller("FpuEditAmenityCtrl",["$scope","fpuEditAmenityAside","fpuEditAmenityContext",c])}(angular),function(a){"use strict";function b(a){var b=this;b.aside=a("home/floorplan-unit/edit-amenity/templates/index.html"),b.show=function(){b.aside.show()},b.hide=function(){b.aside.hide()}}a.module("uam").service("fpuEditAmenityAside",["rightAsideModal",b])}(angular),function(a){"use strict";function b(a){return a()}a.module("uam").factory("fpuEditAmenityContext",["modalContext",b])}(angular),angular.module("uam").run(["$templateCache",function(a){a.put("home/floorplan-unit/edit-amenity/templates/index.html",'<div ng-controller="FpuEditAmenityCtrl as editAmenity" class="rp-aside-modal rp-aside-modal-right rp-aside-modal-show rp-aside-modal-extend-modal-1"><div class="rp-aside-modal-header rp-aside-modal-header-wrap extend">Edit Amenity {{editAmenity.amenity}}</div><div class="rp-aside-modal-content"></div></div>')}]),angular.module("uam").run(["$templateCache",function(a){a.put("home/floorplan-unit/amenity-property-details/templates/index.html",'<div ng-controller="FpuAmenityPropDetailsCtrl as propDetails" class="rp-aside-modal rp-aside-modal-right rp-aside-modal-show rp-aside-modal-extend-modal-1"><div class="rp-aside-modal-header rp-aside-modal-header-wrap extend" ng-if="propDetails.isPageActive"><a ng-click="propDetails.closeAsideDetail()"><i class="rp-aside-modal-close font-10"></i></a><h2 class="rp-aside-modal-header-title">Amenity Details - {{propDetails.selAmenity.amenityName}}</h2></div><div class="rp-aside-modal-content floorplan-amenity-prop-details" ng-if="propDetails.isPageActive"><div class="row-head"><span class="left-text"><i class="icon rp-icon-angle-left icon-ext"></i> <a ng-click="propDetails.closeAsideDetail()">Properties</a> </span><span class="center-text">{{propDetails.model.selectedProperty.siteName}} - {{propDetails.selAmenity.amenityName}}</span></div><div class="row-detail"><div class="row-detail-body"><div class="grid-col-img">\x3c!-- <img ng-src="{{propDetails.selAmenity.displayImage}}" alt="{{propDetails.selAmenity.amenityName}}" /> --\x3e <i class="icon rp-icon-photo icon-size"></i> <span class="upload">Upload</span></div><div class="grid-col-name"><span class="amenity-name">{{propDetails.selAmenity.amenityName}}</span><br><span class="synd-name">{{propDetails.selAmenity.amenitySyndicationName}}</span></div><div class="grid-col-prop"><span class="amenity-descTitle">{{propDetails.selAmenity.marketingName}}</span><br><span class="amenity-desc">{{propDetails.selAmenity.descriptionDetail}}</span></div>\x3c!-- ng-click="propDetails.selAmenity.isDisplayFlag = !propDetails.selAmenity.isDisplayFlag" --\x3e<div class="grid-col-edit"><span><i class="icon rp-icon-visible" ng-class="{\'active\' : propDetails.selAmenity.isDisplayFlag}"></i></span></div><div class="grid-col-price">{{propDetails.selAmenity.priceRange}}</div><div class="grid-col-more"><span class="rp-actions-menu" model="propDetails.actionsMenu.getMenu()"></span></div></div></div><div class="prop-detail"><rp-scrolling-tabs-menu class="page-tabs" model="propDetails.tabsMenu"></rp-scrolling-tabs-menu><ng-include src="propDetails.getActiveTab()"></ng-include></div><div class="prop-detail-grid"></div></div></div>')}]),function(a,b){"use strict";function c(a,c,d,e,f,g,h,i,j){var k=this;k.init=function(){k.isPageActive=!0,d.setSrc(k),k.actionsMenu=i.init(k),k.model=c,k.grid=c.grid,k.gridPagination=c.gridPagination;var b=h.getData();k.tabsMenu=g().setData(b),k.loadData(),k.destWatch=a.$on("$destroy",k.destroy)},k.loadData=function(){c.getSelectedProperty(),k.getSelectedAmenity(),k.getData(),c.setGridPagination()},k.getData=function(){var a={amenityID:1,PMCID:2};e.getData(a).then(k.setDataFromSvc,k.setDataErr)},k.getSelectedAmenity=function(){k.selAmenity=j.get()},k.setDataErr=function(a){},k.edit=function(){},k.markUndisplayed=function(){},k.assignToFloorPlanUnit=function(){},k.removeFromProperty=function(){},k.resetGridFilters=function(){c.resetGridFilters()},k.assignPropertiesToAmenity=function(){c.setAllData(f.getList()),c.assignPropertiesToAmenity()},k.getActiveTab=function(){return h.getActiveTab()},k.setDataFromSvc=function(a){return f.setData(a),c},k.closeAsideDetail=function(){c.closeAsideDetail(),k.isPageActive=!1},k.destroy=function(){k.destWatch(),k=b,a=b},k.init()}a.module("uam").controller("FpuAmenityPropDetailsCtrl",["$scope","amenityPropDetailsModel","fpuAmenityDetailsConfig","fpuAmenityDetailDataSvc","AmenitiesListManager","rpScrollingTabsMenuModel","fpuAmenityDetailsTabsConfig","amenityPropertyActionsMenuModel","fpuAmenityDetailsContext",c])}(angular),function(a,b){"use strict";function c(a,b,c,d,e,f,g,h,i){var j={},k=a(),l=b(),m=c(),n={recordsPerPage:5};return j.init=function(){return j.grid=k,l.watch(k),k.setConfig(d),m.setConfig(n),m.setGrid(k).trackSelection(d.getTrackSelectionConfig()),j.gridPagination=m,j},j.getSelectedProperty=function(){return j.selectedProperty=h.get(),j},j.setGridPagination=function(){j.gridPagination.setData(j.getSelectedList()).goToPage({number:0})},j.closeAsideDetail=function(){g.hide()},j.getSelectedList=function(){return e.getSelectedList()},j.getSelectedRecords=function(){return m.getSelectionChanges()},j.getAmenityData=function(){return j.record},j.showSelectionChanges=function(){k.getSelectionChanges()},j.resetGridFilters=function(){k.resetFilters()},j.reset=function(){},j.init()}a.module("uam").factory("amenityPropDetailsModel",["rpGridModel","rpGridTransform","rpGridPaginationModel","fpuAmenityDetailsConfig","AmenitiesListManager","pubsub","fpuAmenityPropDetailsAside","fpuAmenityPropDetailsContext",c])}(angular),function(a){"use strict";function b(){var a={};return a.data=[{id:"01",isActive:!0,text:"Floor Plans",url:"floorplans"},{id:"02",isActive:!1,text:"Units",url:"units"},{id:"03",isActive:!1,text:"Price Points",url:"pricepoints"}],a.getData=function(){return a.data},a.getActiveTab=function(){var b;return a.data.forEach(function(a){a.isActive&&(b=a.url)}),"home/floorplan-unit/amenity-property-details-"+b+"/templates/"+b+"-tab.html"},a}a.module("uam").factory("fpuAmenityDetailsTabsConfig",[b])}(angular),function(a,b){"use strict";function c(a){return a("home/floorplan-unit/amenity-property-details/templates/index.html")}a.module("uam").factory("fpuAmenityPropDetailsAside",["rightAsideModal",c])}(angular),function(a,b){"use strict";function c(a){return a()}a.module("uam").factory("fpuAmenityPropDetailsContext",["modalContext",c])}(angular),function(a){"use strict";function b(a){var b={src:{}};return b.init=function(a){return b.src=a,b},b.getMenu=function(){return a({actions:[{text:"Edit",method:b.src.edit},{text:"Mark as Undisplayed",method:b.src.markUndisplayed},{text:"Assign to Floor Plan / Unit",method:b.src.assignToFloorPlanUnit},{text:"Remove from Property",method:b.src.removeFromProperty}],menuOffsetLeft:-230,menuClassNames:"rp-actions-menu-panel floorplan-actionsmenu"})},b}a.module("uam").factory("amenityPropertyActionsMenuModel",["rpActionsMenuModel",b])}(angular),angular.module("uam").run(["$templateCache",function(a){a.put("home/floorplan-unit/assign-property/templates/assign-property-aside.html",'<div class="rp-aside-modal rp-aside-modal-right rp-aside-modal-show rp-aside-modal-extend-modal-2" ng-controller="FloorPlanUnitAmenityAssignPropCtrl as fpaPropCtrl"><div class="rp-aside-modal-header rp-aside-modal-header-wrap extend" ng-if="fpaPropCtrl.isPageActive"><a ng-click="fpaPropCtrl.closeAside()"><i class="rp-aside-modal-close font-10"></i></a><h2 class="rp-aside-modal-header-title">Assign Properties</h2></div><div class="rp-aside-modal-content floorplan-amenity-assign-prop" ng-if="fpaPropCtrl.isPageActive"><div class="grid-controls"><div class="grid-control-item"><rp-toggle model="fpaPropCtrl.grid.filtersModel.state.active" options="{\n                    defaultText: \'Filter\',\n                    activeIconClass: \'rp-icon-filter\',\n                    defaultIconClass: \'rp-icon-filter active\'\n                }"></rp-toggle></div></div><div class="assign-prop-grid"><rp-grid model="fpaPropCtrl.grid"></rp-grid><rp-grid-pagination model="fpaPropCtrl.gridPagination"></rp-grid-pagination></div></div><div class="rp-aside-modal-footer rp-aside-modal-footer-btns aside-btns"><button ng-click="fpaPropCtrl.closeAside()" class="btn rounded btn-outline b-primary text-primary pad-left">Cancel</button> <button ng-click="fpaPropCtrl.assign()" class="btn rounded primary pad-left">Assign</button></div></div>')}]),function(a,b){"use strict";function c(a,c,d,e,f,g,h){var i=this;i.init=function(){i.isPageActive=!0,e.setSrc(i),i.model=d,i.grid=d.grid,i.gridPagination=d.gridPagination,d.assignPropertiesToAmenity(),i.destWatch=a.$on("$destroy",i.destroy)},i.resetGridFilters=function(){d.resetGridFilters()},i.closeAside=function(){d.reset(),h.hideModal(),i.isPageActive=!1},i.assign=function(){g.updateSelectedList(),c.publish("amenityDetails.updateSelectedList"),h.hideModal()},i.destroy=function(){i.destWatch(),i=b,a=b},i.init()}a.module("uam").controller("FloorPlanUnitAmenityAssignPropCtrl",["$scope","pubsub","amenityAssignPropModel","floorPlanUnitAmenityAssignPropConfig","floorPlanUnitAmenityAssignPropDataSvc","AmenitiesListManager","AmenityAssignPropAsideManager",c])}(angular),function(a,b){"use strict";function c(a,b,c,d,e){
var f={},g=a(),h=b(),i=d(),j={recordsPerPage:5};return f.init=function(){return f.grid=g,h.watch(g),g.setConfig(e),i.setConfig(j),i.setGrid(g).trackSelection(e.getTrackSelectionConfig()),f.gridPagination=i,f},f.assignPropertiesToAmenity=function(){f.setGridPagination(f.getAllData())},f.setGridPagination=function(a){f.gridPagination.setData(a.records).goToPage({number:0})},f.setAllData=function(a){return f.list=a,f},f.getSelectedRecords=function(){return g.getSelectionChanges()},f.getAllData=function(){return f.list},f.reset=function(){var a,b,d=f.getSelectedRecords(),e=f.getAllData();d.selected.forEach(function(d){a={siteID:d},b=c("filter")(e.records,a),b.length>0&&(b[0].isSelected=!1)}),d.deselected.forEach(function(d){a={siteID:d},b=c("filter")(e.records,a),b.length>0&&(b[0].isSelected=!0)})},f.resetGridFilters=function(){g.resetFilters()},f.init()}a.module("uam").factory("amenityAssignPropModel",["rpGridModel","rpGridTransform","$filter","rpGridPaginationModel","floorPlanUnitAmenityAssignPropConfig",c])}(angular),function(a){"use strict";function b(a){var b=a();return b.get=function(){return[{key:"isSelected",type:"select",idKey:"siteID"},{key:"siteName"}]},b.getHeaders=function(){return[[{Key:"isSelected",className:"is-selected",type:"select",enabled:!0},{key:"siteName",text:"Property",className:"site-name"}]]},b.getFilters=function(){return[{Key:"siteID"},{key:"siteName",type:"text",filterDelay:0,placeholder:"Search by Property Name"}]},b.getTrackSelectionConfig=function(){var a={};return b.get().forEach(function(b){"select"==b.type&&(a.idKey=b.idKey,a.selectKey=b.key)}),a},b}a.module("uam").factory("floorPlanUnitAmenityAssignPropConfig",["rpGridConfig",b])}(angular),function(a,b){"use strict";function c(a){function b(){var a=this;a.isLoadedFlag=!1,a.init()}var c=b.prototype;return c.init=function(){var b=this;b.data={},b.asideDetail=a,b.isLoadedFlag||(b.isLoadedFlag=!0,b.asideDetail.loadAside())},c.showAsideModal=function(){var a=this;return a.asideDetail.showAsideModal(),a},c.hideModal=function(){var a=this;return a.asideDetail.hideModal(),a},c.setAmenData=function(a){var b=this;return b.data=a,b},c.getAmenData=function(){return this.data},c.reset=function(){this.data={}},new b}a.module("uam").factory("AmenityAssignPropAsideManager",["AmenityAssignPropAsideModel",c])}(angular),function(a,b){"use strict";function c(a){function b(){this.init()}var c=b.prototype;return c.init=function(){this.asideDetail={}},c.loadAside=function(){var b=this;return b.asideAssignPropModal=a({backdrop:!0,show:!1,animation:"am-fade-and-slide-right",placement:"right",templateUrl:"home/floorplan-unit/assign-property/templates/assign-property-aside.html"}),b},c.showAsideModal=function(){var a=this;return a.asideAssignPropModal.$promise.then(function(){a.asideAssignPropModal.show()}),a},c.hideModal=function(){var a=this;return a.asideAssignPropModal.$promise.then(function(){a.asideAssignPropModal.hide()}),a},c.reset=function(){this.isLoadedFlag=!1},new b}a.module("uam").factory("AmenityAssignPropAsideModel",["$aside",c])}(angular),function(a){"use strict";function b(a){return a("/api/floorplan-unit/properties-by-amenity",{},{get:{method:"GET",cancellable:!0}})}a.module("uam").factory("floorPlanUnitAmenityAssignPropDataSvc",["$resource",b])}(angular),angular.module("uam").run(["$templateCache",function(a){a.put("home/floorplan-unit/amenity-property-details-floorplans/templates/amenity-added-delete-template.html",'<div fpu-amenity-prop-details-flr-pln-actions><a ng-click="amenityPropDetailsFlrPlns.deleteAmeAddFlrPlan(record)"><i class="action-icon rp-icon-delete"></i></a></div>'),a.put("home/floorplan-unit/amenity-property-details-floorplans/templates/floorplans-tab.html",'<div class="floorplan-amenity-prop-details-floorplans" ng-controller="FpuAmenityPropDetFloorPlansCtrl as fpuAmePropDetFloorplans"><div class="btn-tabs"><rp-tabs-menu model="fpuAmePropDetFloorplans.tabsMenuModel.tabsMenu"></rp-tabs-menu></div><div class="" ng-if="fpuAmePropDetFloorplans.tabsMenuModel.tabsDataModel.floorPlanAmenityAdded.isActive"><div class="amenity-tab"><div class="rp-action-bar box"><div rp-grid-model="fpuAmePropDetFloorplans.grid" class="action-item rp-grid-select ft-form"><label class="md-check dark-bluebox rp-grid-select-label"><input type="checkbox" ng-true-value="true" ng-false-value="false" class="rp-form-checkbox" ng-model="gridSelect.model.selected" ng-change="gridSelect.model.publishState()"> <i class="primary"></i></label><span class="rp-grid-select-icon rp-icon-angle-down"></span></div><button class="action-item" ng-click="fpuAmePropDetFloorplans.showDeleteFloorplanModal()"><i class="action-icon rp-icon-trash"></i> <span class="action-text">Remove</span></button></div><div class="actions-row"><div class="new-btn"><button class="btn rounded primary" ng-click="fpuAmePropDetFloorplans.assignFloorplan()"><i class="fa fa-fw fa-plus icon-size"></i> Assign Floor Plan</button></div><div class="filters"><div class="grid-controls"><div class="grid-control-item"><i class="icon rp-icon-printer"></i> <span class="text">Print</span></div><div class="grid-control-item"><rp-toggle model="fpuAmePropDetFloorplans.grid.filtersModel.state.active" options="{\n                                                        defaultText: \'Filter\' ,\n                                                        defaultIconClass: \'rp-icon-filter active\',\n                                                        activeIconClass: \'rp-icon-filter\'\n                                                    }"></rp-toggle></div></div></div></div><div class="ameneties-grid"><rp-grid model="fpuAmePropDetFloorplans.grid"></rp-grid><rp-grid-pagination model="fpuAmePropDetFloorplans.gridPagination"></rp-grid-pagination></div></div></div><div class="tab-content" ng-if="fpuAmePropDetFloorplans.tabsDataModel.floorPlanUpgradeEligible.isActive"><div class="upgrade-eligible-tab"><div class="rp-action-bar box"><div rp-grid-model="fpuAmePropDetFloorplans.gridUpgEli" class="action-item rp-grid-select ft-form"><label class="md-check dark-bluebox rp-grid-select-label"><input type="checkbox" ng-true-value="true" ng-false-value="false" class="rp-form-checkbox" ng-model="gridSelect.model.selected" ng-change="gridSelect.model.publishState()"> <i class="primary"></i></label><span class="rp-grid-select-icon rp-icon-angle-down"></span></div><button class="action-item" ng-click="fpuAmePropDetFloorplans.showDeleteUpgradeEligibleModal()"><i class="action-icon rp-icon-trash"></i> <span class="action-text">Remove</span></button></div><div class="actions-row"><div class="new-btn"><button class="btn rounded primary" ng-click="fpuAmePropDetFloorplans.assignUpgradeEligible()"><i class="fa fa-fw fa-plus icon-size"></i> Assign Floor Plan</button></div><div class="filters"><div class="grid-controls"><div class="grid-control-item"><i class="icon rp-icon-printer"></i> <span class="text">Print</span></div><div class="grid-control-item"><rp-toggle model="fpuAmePropDetFloorplans.gridUpgEli.filtersModel.state.active" options="{\n                                                        defaultText: \'Filter\' ,\n                                                        defaultIconClass: \'rp-icon-filter active\',\n                                                        activeIconClass: \'rp-icon-filter\'\n                                                    }"></rp-toggle></div></div></div></div><div class="ameneties-grid"><rp-grid model="fpuAmePropDetFloorplans.gridUpgEli"></rp-grid><rp-grid-pagination model="fpuAmePropDetFloorplans.gridPaginationUpgEli"></rp-grid-pagination></div></div></div></div>'),a.put("home/floorplan-unit/amenity-property-details-floorplans/templates/remove-floorplans-property.html",'<div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Delete Floorplan</h5></div><div class="modal-body p-lg"><p>You are about to remove {{ctrl.model.floorPlanNames}} from the property’s list. It will no longer be listed for your property or available to assign to floor plans /units.</p></div><div class="modal-footer text-center"><button type="button" class="btn rounded neutral p-x-md" ng-click="ctrl.hideModal()">Cancel</button> <button type="button" class="btn rounded primary p-x-md" ng-click="ctrl.confirmDeleteSelectedFloorPlans()">Remove</button></div></div></div></div>'),a.put("home/floorplan-unit/amenity-property-details-floorplans/templates/remove-upgrade-eligible-property.html",'<div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Delete Upgrade Eligible</h5></div><div class="modal-body p-lg"><p>You are about to remove {{ctrlUE.model.floorPlanNames}} from the property’s list. It will no longer be listed for your property or available to assign to floor plans /units.</p></div><div class="modal-footer text-center"><button type="button" class="btn rounded neutral p-x-md" ng-click="ctrlUE.hideModal()">Cancel</button> <button type="button" class="btn rounded primary p-x-md" ng-click="ctrlUE.confirmDeleteSelectedAmenities()">Remove</button></div></div></div></div>'),a.put("home/floorplan-unit/amenity-property-details-floorplans/templates/upgrade-eligible-delete-template.html",'<div fpu-amenity-prop-details-flr-pln-actions><a ng-click="amenityPropDetailsFlrPlns.deleteUpgEliFlrPlan(record)"><i class="action-icon rp-icon-delete"></i></a></div>')}]),function(a,b){"use strict";function c(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=this;r.init=function(){r.model=e,r.grid=e.grid,r.gridPagination=e.gridPagination,r.modelUpgEli=m,r.gridUpgEli=m.grid,r.gridPaginationUpgEli=m.gridPagination,r.tabsMenuModel=c.init(),r.tabsDataModel=c.tabsDataModel,r.loadData(),r.destWatch=a.$on("$destroy",r.destroy),r.tabsMenuChange=c.subscribe(r.tabChange)},r.loadData=function(){r.getData()},r.assignFloorplan=function(){h.setGridPagination(),n.show()},r.assignUpgradeEligible=function(){l.setGridPagination(),p.show()},r.getData=function(){var a={amenityID:1,PMCID:2};d.getData(a).then(r.setData,r.setDataErr)},r.setData=function(a){r.setAddedAmenities(a),r.setUpgradeEligible(a)},r.setDataErr=function(a){},r.setUpgradeEligible=function(a){var b={records:a.floorPlans.upgradeEligible};k.setData(b),m.setGridPagination()},r.setAddedAmenities=function(a){var b={records:a.floorPlans.addedAmenities};i.setData(b),e.setGridPagination()},r.showDeleteFloorplanModal=function(){e.setSelectedFloorPlansForDisplay(),e.isFloorPlansSelected&&e.showFloorplanModal()},r.showDeleteUpgradeEligibleModal=function(){m.setSelectedUpgradeEligibleFloorPlanForDisplay(),m.isUpgradeEligibleFloorPlansSelected&&m.showFloorplanModal()},r.tabChange=function(){c.tabsData.forEach(function(a){a.isActive&&("AmenityAdded"==a.name?e.setGridPagination():m.setGridPagination())})},r.hideModal=function(){e.hideModal()},r.confirmDeleteSelectedAmenities=function(){r.hideModal(),e.deleteSelectedFloorplans()},r.destroy=function(){r.destWatch(),r=b,a=b},r.init()}a.module("uam").controller("FpuAmenityPropDetFloorPlansCtrl",["$scope","fpuAmenityPropDetTabsMenuModel","fpDataSvc","fpAmenityAddedModel","fpAmenityAddedConfig","fpAmenityAddedDeleteSvc","fpAmenityAddFloorPlansModel","AddFloorPlanListManager","pubsub","UpgradeEligibleListManager","fpAmenityUpgradeEligibleModel","fpUpgradeEligibleListModel","fpuAmenityPropDetailsFlrPlnAssignAside","fpuAmenityPropDetailsFlrPlnAssignContext","fpuAmenityPropDetailsFlrPlnUpgEliAssignAside","fpuAmenityPropDetailsFlrPlnUpgEliAssignContext",c])}(angular),function(a,b){"use strict";function c(a,c){var d=this;d.init=function(){d.destWatch=a.$on("$destroy",d.destroy),d.model=c},d.hideModal=function(){c.hideModal()},d.confirmDeleteSelectedFloorPlans=function(){d.hideModal(),c.deleteSelectedFloorplans()},d.selectedFloorPlansForDisplay=function(){},d.destroy=function(){d.destWatch(),d=b,a=b},d.init()}a.module("uam").controller("FpuAmenityPropDetFloorPlansModalCtrl",["$scope","fpAmenityAddedModel",c])}(angular),function(a,b){"use strict";function c(a,c){var d=this;d.init=function(){d.destWatch=a.$on("$destroy",d.destroy),d.model=c},d.hideModal=function(){c.hideModal()},d.confirmDeleteSelectedAmenities=function(){d.hideModal(),c.deleteSelectedupgradeEligibleFloorPlan()},d.selectedFloorPlansForDisplay=function(){},d.destroy=function(){d.destWatch(),d=b,a=b},d.init()}a.module("uam").controller("FpuAmenityPropDetUpgradeEligibleModalCtrl",["$scope","fpUpgradeEligibleListModel",c])}(angular),function(a){"use strict";function b(a,b){function c(c,d,e){var f={};f.init=function(){c.amenityPropDetailsFlrPlns=f,f.destWatch=c.$on("$destroy",f.destroy)},f.deleteAmeAddFlrPlan=function(b){a.amAddFloorPlanDelete(b)},f.deleteUpgEliFlrPlan=function(a){b.upgradeEligibleFloorPlanDelete(a)},f.destroy=function(){f.destWatch(),f=void 0,e=void 0,d=void 0,c=void 0},f.init()}return{link:c,restrict:"A"}}a.module("uam").directive("fpuAmenityPropDetailsFlrPlnActions",["fpAmenityAddedModel","fpUpgradeEligibleListModel",b])}(angular),function(a,b){"use strict";function c(){var a={};return a.floorPlanAmenityAdded={id:"01",isActive:!0,text:"Amenity Added",name:"AmenityAdded"},a.floorPlanUpgradeEligible={id:"02",isActive:!1,text:"Upgrade Eligible",name:"UpgradeEligible"},a.getData=function(){return[a.floorPlanAmenityAdded,a.floorPlanUpgradeEligible]},a}a.module("uam").factory("floorPlanUnitAmenityPropDetTabsMenuConfigModel",[c])}(angular),function(a,b){"use strict";function c(a,c){var d={};return d.init=function(){return d.tabsMenu=a(),d.tabsDataModel=c,d.tabsData=c.getData(),d.tabsMenu.setOptions(d.tabsData),d},d.getData=function(){return d.tabsData},d.subscribe=function(a){d.tabsMenu.subscribe("change",a)},d.reset=function(){d.tabsMenu.destroy(),d.tabsData=b,d.tabsMenu=b},d.init()}a.module("uam").factory("fpuAmenityPropDetTabsMenuModel",["rpTabsMenuModel","floorPlanUnitAmenityPropDetTabsMenuConfigModel",c])}(angular),function(a){"use strict";function b(a){var b=a();return b.get=function(){return[{key:"isDelSelected",type:"select",idKey:"floorPlanId"},{key:"floorplanName"},{key:"dateAdded"},{key:"delete",type:"custom",templateUrl:"home/floorplan-unit/amenity-property-details-floorplans/templates/amenity-added-delete-template.html"}]},b.getHeaders=function(){return[[{key:"floorPlanId"},{key:"floorplanName",text:"Floor Plan",isSortable:!0},{key:"dateAdded",text:"Added",isSortable:!0},{key:"delete",className:"delete"}]]},b.getFilters=function(){return[{key:"floorPlanId"},{key:"floorplanName",type:"text",filterDelay:0,placeholder:"Search by floorplan name"},{key:"dateAdded",type:"text",filterDelay:0,placeholder:"Search by date added"},{key:"delete"}]},b.getTrackSelectionConfig=function(){var a={};return b.get().forEach(function(b){"select"==b.type&&(a.idKey=b.idKey,a.selectKey=b.key)}),a},b}a.module("uam").factory("fpAmenityAddedConfig",["rpGridConfig",b])}(angular),function(a,b){"use strict";function c(a,c,d,e,f,g,h,i,j){var k={},l=c(),m=d(),n=f(),o={recordsPerPage:8};return k.init=function(){return k.grid=l,m.watch(l),l.setConfig(a),n.setConfig(o),n.setGrid(l).trackSelection(a.getTrackSelectionConfig()),k.gridPagination=n,k.deleteFloorplanModal=g({show:!1,placement:"center",templateUrl:"home/floorplan-unit/amenity-property-details-floorplans/templates/remove-floorplans-property.html",backdrop:!0,controller:"FpuAmenityPropDetFloorPlansModalCtrl",controllerAs:"ctrl"}),j.subscribe("amenityDetails.updateSelectedListFloorplans",k.setGridPagination),k},k.edit=function(a){},k.view=function(a){},k.amAddFloorPlanDelete=function(a){a.isSelected=!1,l.deleteRow("floorPlanId",a)},k.setSelectedFloorPlansForDisplay=function(){k.floorPlanNames="";var a=k.getSelectedRecords();return k.isFloorPlansSelected=!1,a.selected.length>0&&(k.isFloorPlansSelected=!0,a.selected.forEach(function(a){var b=e("filter")(k.gridPagination.data,{floorPlanId:a});b.length>0&&(k.floorPlanNames+=b[0].floorplanName+", ")})),k},k.deleteSelectedFloorplans=function(a){var b=k.getSelectedRecords();b.selected.length>0&&b.selected.forEach(function(a){var b=e("filter")(k.gridPagination.data,{floorPlanId:a});if(b.length>0){b[0].isSelected=!1,l.deleteRow("floorPlanId",b[0])}})},k.showFloorplanModal=function(){k.deleteFloorplanModal.$promise.then(function(){k.deleteFloorplanModal.show()})},k.hideModal=function(){k.deleteFloorplanModal.$promise.then(function(){k.deleteFloorplanModal.hide()})},k.editFloorplan=function(a){},k.getSelectedRecords=function(){return l.getSelectionChanges()},k.setGridPagination=function(){k.gridPagination.setData(k.getSelectedList()).goToPage({number:0})},k.getSelectedList=function(){return i.getSelectedList()},k.resetGridFilters=function(){l.resetFilters()},k.reset=function(){k.grid.destroy(),k.grid=b,k.gridPagination.destroy(),k.gridPagination=b},k.init()}a.module("uam").factory("fpAmenityAddedModel",["fpAmenityAddedConfig","rpGridModel","rpGridTransform","$filter","rpGridPaginationModel","$modal","$templateCache","AddFloorPlanListManager","pubsub",c])}(angular),function(a){"use strict";function b(a){var b=a();return b.get=function(){return[{key:"isDelSelected",type:"select",idKey:"floorPlanId"},{key:"floorplanName"},{key:"delete",type:"custom",templateUrl:"home/floorplan-unit/amenity-property-details-floorplans/templates/upgrade-eligible-delete-template.html"}]},b.getHeaders=function(){return[[{key:"floorPlanId"},{key:"floorplanName",text:"Floor Plan",isSortable:!0},{key:"delete",className:"delete"}]]},b.getFilters=function(){return[{key:"floorPlanId"},{key:"floorplanName",type:"text",filterDelay:0,placeholder:"Search by floorplan name"},{key:"delete"}]},b.getTrackSelectionConfig=function(){var a={};return b.get().forEach(function(b){"select"==b.type&&(a.idKey=b.idKey,a.selectKey=b.key)}),a},b}a.module("uam").factory("floorPlansUpgradeEligibleConfig",["rpGridConfig",b])}(angular),function(a,b){"use strict";function c(a,c,d,e,f,g,h,i,j){var k={},l=c(),m=d(),n=f(),o={recordsPerPage:8};return k.init=function(){return k.grid=l,m.watch(l),l.setConfig(a),n.setConfig(o),n.setGrid(l).trackSelection(a.getTrackSelectionConfig()),k.gridPagination=n,k.deleteFloorplanModal=g({show:!1,placement:"center",templateUrl:"home/floorplan-unit/amenity-property-details-floorplans/templates/remove-upgrade-eligible-property.html",backdrop:!0,controller:"FpuAmenityPropDetUpgradeEligibleModalCtrl",controllerAs:"ctrlUE"}),j.subscribe("amenityDetails.updateSelectedListUpgradeEligible",k.setGridPagination),k},k.edit=function(a){},k.view=function(a){},k.upgradeEligibleFloorPlanDelete=function(a){a.isSelected=!1,l.deleteRow("floorPlanId",a)},k.setSelectedUpgradeEligibleFloorPlanForDisplay=function(){k.floorPlanNames="",k.isUpgradeEligibleFloorPlansSelected=!1;var a=k.getSelectedRecords();return a.selected.length>0&&(k.isUpgradeEligibleFloorPlansSelected=!0,a.selected.forEach(function(a){var b=e("filter")(k.gridPagination.data,{floorPlanId:a});b.length>0&&(k.floorPlanNames+=b[0].floorplanName+", ")})),k},k.deleteSelectedupgradeEligibleFloorPlan=function(a){var b=k.getSelectedRecords();b.selected.length>0&&b.selected.forEach(function(a){var b=e("filter")(k.gridPagination.data,{floorPlanId:a});if(b.length>0){b[0].isSelected=!1,l.deleteRow("floorPlanId",b[0])}})},k.showFloorplanModal=function(){k.deleteFloorplanModal.$promise.then(function(){k.deleteFloorplanModal.show()})},k.hideModal=function(){k.deleteFloorplanModal.$promise.then(function(){k.deleteFloorplanModal.hide()})},k.editFloorplan=function(a){},k.getSelectedRecords=function(){return l.getSelectionChanges()},k.setGridPagination=function(){k.gridPagination.setData(k.getSelectedList()).goToPage({number:0})},k.getSelectedList=function(){return i.getSelectedList()},k.resetGridFilters=function(){l.resetFilters()},k.reset=function(){k.grid.destroy(),k.grid=b,k.gridPagination.destroy(),k.gridPagination=b},k.init()}a.module("uam").factory("fpUpgradeEligibleListModel",["floorPlansUpgradeEligibleConfig","rpGridModel","rpGridTransform","$filter","rpGridPaginationModel","$modal","$templateCache","UpgradeEligibleListManager","pubsub",c])}(angular),function(a,b){"use strict";function c(a){function b(){this.init()}var c=b.prototype;return c.init=function(){var a=this;a.list=[],a.selectedList=[]},c.getList=function(){return this.list},c.getSelectedList=function(){return this.selectedList},c.setData=function(a){var b=this;return b.list=a,b.updateSelectedList(),b},c.invertSelectedList=function(){var b,c,d=this;return b={isSelected:!1},d.selectedList.flush(),c=a("filter")(d.list.records,b),c.forEach(function(a){d.selectedList.push(a)}),d},c.updateSelectedList=function(){var b,c,d=this;return b={isSelected:!0},d.selectedList.flush(),c=a("filter")(d.list.records,b),c.forEach(function(a){d.selectedList.push(a)}),d},c.reset=function(){var a=this;a.list=[],a.selectedList=[]},new b}a.module("uam").factory("AddFloorPlanListManager",["$filter",c])}(angular),function(a,b){"use strict";function c(a){function b(){this.init()}var c=b.prototype;return c.init=function(){var a=this;a.list=[],a.selectedList=[]},c.getList=function(){return this.list},c.getSelectedList=function(){return this.selectedList},c.setData=function(a){var b=this;return b.list=a,b.updateSelectedList(),b},c.invertSelectedList=function(){var b,c,d=this;return b={isSelected:!1},d.selectedList.flush(),c=a("filter")(d.list.records,b),c.forEach(function(a){d.selectedList.push(a)}),d},c.updateSelectedList=function(){var b,c,d=this;return b={isSelected:!0},d.selectedList.flush(),c=a("filter")(d.list.records,b),c.forEach(function(a){d.selectedList.push(a)}),d},c.reset=function(){var a=this;a.list=[],a.selectedList=[]},new b}a.module("uam").factory("UpgradeEligibleListManager",["$filter",c])}(angular),function(a){"use strict";function b(a,b){var c,d,e;return d="/api/delete",c={abort:function(){return e&&e.resolve&&e.resolve(),c},deleteSelectedAmenity:function(c){e=a.defer();var f=d+"/"+c.amenityID;return b({data:{},url:f,cache:!1,method:"DELETE",timeout:e.promise})}}}a.module("uam").factory("fpAmenityAddedDeleteSvc",["$q","$http",b])}(angular),function(a){"use strict";function b(a,b){var c={};return c.url={urlParm:"/api/floorplan-unit/amenity-property-detail-floorplans"},c.requests={getReq:null},c.getDataReq=function(b){var d={amenityID:b.amenityID,PMCID:b.PMCID},e=c.url.urlParm;return a(e,d,{get:{method:"GET",cancellable:!0}}).get()},c.getData=function(a){return c.requests.getReq=c.getDataReq(a),c.requests.getReq.$promise},c}a.module("uam").factory("fpDataSvc",["$resource","$window",b])}(angular),angular.module("uam").run(["$templateCache",function(a){a.put("home/floorplan-unit/amenity-property-details-units/templates/remove-amenityadd-unit.html",'<div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Delete Unit</h5></div><div class="modal-body p-lg"><p>You are about to remove {{ctrl.model.units}} from the property’s list. It will no longer be listed for your property or available to assign to floor plans /units.</p></div><div class="modal-footer text-center"><button type="button" class="btn rounded neutral p-x-md" ng-click="ctrl.hideConfirmModal()">Cancel</button> <button type="button" class="btn rounded primary p-x-md" ng-click="ctrl.confirmDeleteSelectedUnits()">Remove</button></div></div></div></div>'),a.put("home/floorplan-unit/amenity-property-details-units/templates/remove-upgrade-eligible-unit.html",'<div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">remove Upgrade Eligible Unit</h5></div><div class="modal-body p-lg"><p>You are about to remove {{ctrlUPgEli.model.units}} from the property’s list. It will no longer be listed for your property or available to assign to floor plans /units.</p></div><div class="modal-footer text-center"><button type="button" class="btn rounded neutral p-x-md" ng-click="ctrlUPgEli.hideConfirmUpgEliModal()">Cancel</button> <button type="button" class="btn rounded primary p-x-md" ng-click="ctrlUPgEli.confirmDeleteSelectedUpgEliUnits()">Remove</button></div></div></div></div>'),a.put("home/floorplan-unit/amenity-property-details-units/templates/units-tab.html",'<div class="floorplan-amenity-prop-details-units" ng-controller="FpuAmenityPropDetUnitsCtrl as fpuAmePropDetUnits"><div class="btn-tabs"><rp-tabs-menu model="fpuAmePropDetUnits.tabsMenuModel.tabsMenu"></rp-tabs-menu></div><div class="" ng-if="fpuAmePropDetUnits.tabsMenuModel.tabsDataModel.unitsAmenityAdded.isActive"><div class="amenity-tab"><div class="rp-action-bar box"><div rp-grid-model="fpuAmePropDetUnits.grid" class="action-item rp-grid-select ft-form"><label class="md-check dark-bluebox rp-grid-select-label"><input type="checkbox" ng-true-value="true" ng-false-value="false" class="rp-form-checkbox" ng-model="gridSelect.model.selected" ng-change="gridSelect.model.publishState()"> <i class="primary"></i></label><span class="rp-grid-select-icon rp-icon-angle-down"></span></div><button class="action-item" ng-click="fpuAmePropDetUnits.showDeleteFloorplanModal()">\x3c!-- <i class="action-icon rp-icon-trash"></i> --\x3e <span class="action-text">Remove</span></button> <button class="action-item" ng-click="fpuAmePropDetUnits.changePricePointModalBulk()"><span class="action-text">Change Price Point</span></button></div><div class="actions-row"><div class="new-btn"><button class="btn rounded primary" ng-click="fpuAmePropDetUnits.assignAmeAddedUnit()"><i class="fa fa-fw fa-plus icon-size"></i> Assign Unit</button></div><div class="filters"><div class="grid-controls"><div class="grid-control-item"><i class="icon rp-icon-printer"></i> <span class="text">Print</span></div><div class="grid-control-item"><rp-toggle model="fpuAmePropDetUnits.grid.filtersModel.state.active" options="{\n                                                        defaultText: \'Filter\' ,\n                                                        defaultIconClass: \'rp-icon-filter active\',\n                                                        activeIconClass: \'rp-icon-filter\'\n                                                    }"></rp-toggle></div></div></div></div><div class="ameneties-grid"><rp-grid model="fpuAmePropDetUnits.grid"></rp-grid><rp-grid-pagination model="fpuAmePropDetUnits.gridPagination"></rp-grid-pagination></div></div></div><div class="tab-content" ng-if="fpuAmePropDetUnits.tabsDataModel.unitsUpgradeEligible.isActive"><div class="upgrade-eligible-tab"><div class="rp-action-bar box"><div rp-grid-model="fpuAmePropDetUnits.gridUpgElig" class="action-item rp-grid-select ft-form"><label class="md-check dark-bluebox rp-grid-select-label"><input type="checkbox" ng-true-value="true" ng-false-value="false" class="rp-form-checkbox" ng-model="gridSelect.model.selected" ng-change="gridSelect.model.publishState()"> <i class="primary"></i></label><span class="rp-grid-select-icon rp-icon-angle-down"></span></div><button class="action-item" ng-click="fpuAmePropDetUnits.showDeleteUpgradeEligibleModal()">\x3c!-- <i class="action-icon rp-icon-trash"></i> --\x3e <span class="action-text">Remove</span></button></div><div class="actions-row"><div class="new-btn"><button class="btn rounded primary" ng-click="fpuAmePropDetUnits.assignUpgEliUnit()"><i class="fa fa-fw fa-plus icon-size"></i> Assign Unit</button></div><div class="filters"><div class="grid-controls"><div class="grid-control-item"><i class="icon rp-icon-printer"></i> <span class="text">Print</span></div><div class="grid-control-item"><rp-toggle model="fpuAmePropDetUnits.gridUpgElig.filtersModel.state.active" options="{\n                                                        defaultText: \'Filter\' ,\n                                                        defaultIconClass: \'rp-icon-filter active\',\n                                                        activeIconClass: \'rp-icon-filter\'\n                                                    }"></rp-toggle></div></div></div></div><div class="ameneties-grid"><rp-grid model="fpuAmePropDetUnits.gridUpgElig"></rp-grid><rp-grid-pagination model="fpuAmePropDetUnits.gridPaginationUpgElig"></rp-grid-pagination></div></div></div></div>'),a.put("home/floorplan-unit/amenity-property-details-units/templates/upgrade-eligible-delete-template.html",'<div fpu-amenity-prop-details-units-actions><a ng-click="amenityPropDetailsUnits.deleteUpgEliUnit(record)"><i class="action-icon rp-icon-delete"></i></a></div>')}]),function(a,b){"use strict";function c(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){var v=this;v.init=function(){f.setSrc(v),q.setSrc(v),n.setSrc(v),r.setSrc(v),v.model=e,v.grid=e.grid,v.gridPagination=e.gridPagination,v.modelUpgElig=m,v.gridUpgElig=m.grid,v.gridPaginationUpgElig=m.gridPagination,v.tabsMenuModel=c.init(),v.tabsDataModel=c.tabsDataModel,v.loadData(),v.destWatch=a.$on("$destroy",v.destroy),v.tabsMenuChange=c.subscribe(v.tabChange)},v.loadData=function(){v.getData()},v.assignAmeAddedUnit=function(){o.show()},v.assignUpgEliUnit=function(){p.show()},v.getData=function(){var a={amenityID:1,PMCID:2};d.getData(a).then(v.setData,v.setDataErr)},v.setData=function(a){v.setAddedAmenities(a),v.setUpgradeEligible(a)},v.setDataErr=function(a){},v.setUpgradeEligible=function(a){var b={records:a.units.upgradeEligible};k.setData(b),m.setGridPagination()},v.setAddedAmenities=function(a){var b={records:a.units.addedAmenities};i.setData(b),e.setGridPagination()},v.showDeleteFloorplanModal=function(){e.setSelectedUnitsForDisplay(),e.isUnitsSelected&&e.showUnitsModal()},v.changePricePointModal=function(a){u.isPricePointBulk=!1,s.set(a),t.show()},v.changePricePointModalBulk=function(){if(e.getSelectedUnitNosForDisplay(),e.isUnitsSelectedDisplay){u.isPricePointBulk=!0,u.setSelUnits(e.unitNos);var a=e.getSelectedRecords();s.set(a),t.show()}},v.removeUnit=function(a){e.unitRemove(a)},v.showDeleteUpgradeEligibleModal=function(){m.setSelectedUpgradeEligibleUnitsForDisplay(),m.isUpgradeEligibleUnitsSelected&&m.showUnitsModal()},v.tabChange=function(){c.tabsData.forEach(function(a){a.isActive&&a.name})},v.hideConfirmModal=function(){e.hideConfirmModal()},v.hideConfirmUpgAmiModal=function(){m.hideConfirmModal()},v.confirmDeleteSelectedUpgEliUnits=function(){v.hideConfirmUpgAmiModal(),m.deleteSelectedupgradeEligibleUnits()},v.destroy=function(){v.destWatch(),v=b,a=b},v.init()}a.module("uam").controller("FpuAmenityPropDetUnitsCtrl",["$scope","fpuAmenityPropDetUnitsTabsMenuModel","unitsDataSvc","unitsAmenityAddedModel","unitsAmenityAddedConfig","$timeout","floorPlansAmenityAddunitsModel","AddUnitsListManager","pubsub","UnitsUpgradeEligibleListManager","unitsAmenityUpgradeEligibleModel","unitsUpgradeEligibleListModel","unitsUpgradeEligibleConfig","fpuAmenityPropDetailsUnitAssignAside","fpuAmenityPropDetailsUnitUpgEliAssignAside","fpuAmePropDetUnitsAmeAddActionsConfig","fpuAmePropDetUnitsUpgEliActionsConfig","fpuAmenityPropDetailsUnitsPricePointContext","fpuAmenityPropDetailsUnitsPricePointAside","fpuPropDetUnitsPricePointBulkModel",c])}(angular),function(a,b){"use strict";function c(a,c){var d=this;d.init=function(){d.destWatch=a.$on("$destroy",d.destroy),d.model=c},d.hideConfirmUpgEliModal=function(){c.hideConfirmModal()},d.confirmDeleteSelectedUpgEliUnits=function(){d.hideConfirmUpgEliModal(),c.deleteSelectedupgradeEligibleUnits()},d.destroy=function(){d.destWatch(),d=b,a=b},d.init()}a.module("uam").controller("FpuAmenityPropDetUnitsUpgEliModalCtrl",["$scope","unitsUpgradeEligibleListModel",c])}(angular),function(a,b){"use strict";function c(a,c){var d=this;d.init=function(){d.destWatch=a.$on("$destroy",d.destroy),d.model=c},d.hideConfirmModal=function(){c.hideConfirmModal()},d.confirmDeleteSelectedUnits=function(){d.hideConfirmModal(),c.deleteSelectedAmeAddUnits()},d.selectedFloorPlansForDisplay=function(){},d.destroy=function(){d.destWatch(),d=b,a=b},d.init()}a.module("uam").controller("FpuAmenityPropDetUnitsConfirmModalCtrl",["$scope","unitsAmenityAddedModel",c])}(angular),function(a){"use strict";function b(a,b,c,d,e){function f(c,f,g){
var h={};h.init=function(){c.amenityPropDetailsUnits=h,h.destWatch=c.$on("$destroy",h.destroy)},h.showPricePoint=function(c){e.isPricePointBulk=!1,b.set(c),a.show()},h.deleteUpgEliUnit=function(a){d.unitRemove(a)},h.destroy=function(){h.destWatch(),h=void 0,g=void 0,f=void 0,c=void 0},h.init()}return{link:f,restrict:"A"}}a.module("uam").directive("fpuAmenityPropDetailsUnitsActions",["fpuAmenityPropDetailsUnitsPricePointAside","fpuAmenityPropDetailsUnitsPricePointContext","unitsAmenityAddedModel","unitsUpgradeEligibleListModel","fpuPropDetUnitsPricePointBulkModel",b])}(angular),function(a,b){"use strict";function c(a,c){var d={};return d.init=function(){return d.tabsMenu=a(),d.tabsDataModel=c,d.tabsData=c.getData(),d.tabsMenu.setOptions(d.tabsData),d},d.getData=function(){return d.tabsData},d.subscribe=function(a){d.tabsMenu.subscribe("change",a)},d.reset=function(){d.tabsMenu.destroy(),d.tabsData=b,d.tabsMenu=b},d.init()}a.module("uam").factory("fpuAmenityPropDetUnitsTabsMenuModel",["rpTabsMenuModel","floorPlanUnitAmenityPropDetUnitsTabsMenuConfigModel",c])}(angular),function(a,b){"use strict";function c(){var a={};return a.unitsAmenityAdded={id:"01",isActive:!0,text:"Amenity Added",name:"AmenityAdded"},a.unitsUpgradeEligible={id:"02",isActive:!1,text:"Upgrade Eligible",name:"UpgradeEligible"},a.getData=function(){return[a.unitsAmenityAdded,a.unitsUpgradeEligible]},a}a.module("uam").factory("floorPlanUnitAmenityPropDetUnitsTabsMenuConfigModel",[c])}(angular),function(a,b){"use strict";function c(a,c,d,e,f,g,h,i,j,k){var l={},m=c(),n=d(),o=f(),p={recordsPerPage:8};return l.init=function(){return l.grid=m,n.watch(m),m.setConfig(a),o.setConfig(p),o.setGrid(m).trackSelection(a.getTrackSelectionConfig()),l.gridPagination=o,l.deleteUnitsModal=g({show:!1,placement:"center",templateUrl:"home/floorplan-unit/amenity-property-details-units/templates/remove-amenityadd-unit.html",backdrop:!0,controller:"FpuAmenityPropDetUnitsConfirmModalCtrl",controllerAs:"ctrl"}),k.subscribe("amenityPropDetAmeAddAssignUnits.updateSelectedListUnits",l.setGridPagination),l},l.edit=function(a){},l.view=function(a){},l.unitRemove=function(a){a.isSelected=!1,m.deleteRow("unitId",a)},l.setSelectedUnitsForDisplay=function(){l.units="";var a=l.getSelectedRecords();return l.isUnitsSelected=!1,a.selected.length>0&&(l.isUnitsSelected=!0,a.selected.forEach(function(a){var b=e("filter")(l.gridPagination.data,{unitId:a});b.length>0&&(l.units+=b[0].unitNo+", ")})),l},l.getSelectedUnitNosForDisplay=function(){l.unitNos="";var a=l.getSelectedRecords();return l.isUnitsSelectedDisplay=!1,a.selected.length>0&&(l.isUnitsSelectedDisplay=!0,a.selected.forEach(function(a){var b=e("filter")(l.gridPagination.data,{unitId:a});b.length>0&&(l.unitNos+=b[0].unitNo+", ")})),l},l.deleteSelectedAmeAddUnits=function(a){var b=l.getSelectedRecords();b.selected.length>0&&b.selected.forEach(function(a){var b=e("filter")(l.gridPagination.data,{unitId:a});if(b.length>0){b[0].isSelected=!1,m.deleteRow("unitId",b[0])}})},l.showUnitsModal=function(){l.deleteUnitsModal.$promise.then(function(){l.deleteUnitsModal.show()})},l.hideConfirmModal=function(){l.deleteUnitsModal.$promise.then(function(){l.deleteUnitsModal.hide()})},l.editUnits=function(a){},l.getSelectedRecords=function(){return m.getSelectionChanges()},l.setGridPagination=function(){l.gridPagination.setData(l.getSelectedList()).goToPage({number:0})},l.getSelectedList=function(){return j.getSelectedList()},l.resetGridFilters=function(){m.resetFilters()},l.reset=function(){l.grid.destroy(),l.grid=b,l.gridPagination.destroy(),l.gridPagination=b},l.init()}a.module("uam").factory("unitsAmenityAddedModel",["unitsAmenityAddedConfig","rpGridModel","rpGridTransform","$filter","rpGridPaginationModel","$modal","$templateCache","$aside","AddUnitsListManager","pubsub",c])}(angular),function(a){"use strict";function b(a,b){var c=a();return c.get=function(){return[{key:"isDelSelected",type:"select",idKey:"unitId"},{key:"unitNo"},{key:"buildingNo"},{key:"floorPlan"},{key:"floorLevel"},{key:"dateAdded"},{key:"pricePoint",type:"custom",templateUrl:"home/floorplan-unit/amenity-price-point/templates/price-point-template.html"},{key:"more",type:"actionsMenu",getActions:b.get}]},c.getHeaders=function(){return[[{key:"unitId"},{key:"unitNo",text:"Unit",isSortable:!0},{key:"buildingNo",text:"Building",isSortable:!0},{key:"floorPlan",text:"Floor Plan",isSortable:!0},{key:"floorLevel",text:"Floor",isSortable:!0},{key:"dateAdded",text:"Added",isSortable:!0},{key:"pricePoint",text:"Price Point",isSortable:!0},{key:"more",className:"more"}]]},c.getFilters=function(){return[{key:"unitId"},{key:"unitNo",type:"text",filterDelay:0,placeholder:"Search by unit"},{key:"buildingNo",type:"text",filterDelay:0,placeholder:"Search by building"},{key:"floorPlan",type:"text",filterDelay:0,placeholder:"Search by floorplan"},{key:"floorLevel",type:"text",filterDelay:0,placeholder:"Search by floor level"},{key:"dateAdded",type:"text",filterDelay:0,placeholder:"Search by date added"},{key:"pricePoint",type:"text",filterDelay:0,placeholder:"Search by price point"},{key:"more"}]},c.getTrackSelectionConfig=function(){var a={};return c.get().forEach(function(b){"select"==b.type&&(a.idKey=b.idKey,a.selectKey=b.key)}),a},c}a.module("uam").factory("unitsAmenityAddedConfig",["rpGridConfig","fpuAmePropDetUnitsAmeAddActionsConfig",b])}(angular),function(a,b){"use strict";function c(a,c,d,e,f,g,h,i,j,k){var l={},m=c(),n=d(),o=f(),p={recordsPerPage:8};return l.init=function(){return l.grid=m,n.watch(m),m.setConfig(a),o.setConfig(p),o.setGrid(m).trackSelection(a.getTrackSelectionConfig()),l.gridPagination=o,l.deleteFloorplanModal=g({show:!1,placement:"center",templateUrl:"home/floorplan-unit/amenity-property-details-units/templates/remove-upgrade-eligible-unit.html",backdrop:!0,controller:"FpuAmenityPropDetUnitsUpgEliModalCtrl",controllerAs:"ctrlUPgEli"}),k.subscribe("amenityDetails.updateSelectedListUnitsUpgEli",l.setGridPagination),l},l.edit=function(a){},l.view=function(a){},l.unitRemove=function(a){a.isSelected=!1,m.deleteRow("unitId",a)},l.setSelectedUpgradeEligibleUnitsForDisplay=function(){l.units="",l.isUpgradeEligibleUnitsSelected=!1;var a=l.getSelectedRecords();return a.selected.length>0&&(l.isUpgradeEligibleUnitsSelected=!0,a.selected.forEach(function(a){var b=e("filter")(l.gridPagination.data,{unitId:a});b.length>0&&(l.units+=b[0].unitNo+", ")})),l},l.deleteSelectedupgradeEligibleUnits=function(a){var b=l.getSelectedRecords();b.selected.length>0&&b.selected.forEach(function(a){var b=e("filter")(l.gridPagination.data,{unitId:a});if(b.length>0){b[0].isSelected=!1,m.deleteRow("unitId",b[0])}})},l.showUnitsModal=function(){l.deleteFloorplanModal.$promise.then(function(){l.deleteFloorplanModal.show()})},l.hideConfirmModal=function(){l.deleteFloorplanModal.$promise.then(function(){l.deleteFloorplanModal.hide()})},l.editUnits=function(a){},l.getSelectedRecords=function(){return m.getSelectionChanges()},l.setGridPagination=function(){l.gridPagination.setData(l.getSelectedList()).goToPage({number:0})},l.getSelectedList=function(){return j.getSelectedList()},l.resetGridFilters=function(){m.resetFilters()},l.reset=function(){l.grid.destroy(),l.grid=b,l.gridPagination.destroy(),l.gridPagination=b},l.init()}a.module("uam").factory("unitsUpgradeEligibleListModel",["unitsUpgradeEligibleConfig","rpGridModel","rpGridTransform","$filter","rpGridPaginationModel","$modal","$templateCache","$aside","UnitsUpgradeEligibleListManager","pubsub",c])}(angular),function(a,b){"use strict";function c(a){function b(){this.init()}var c=b.prototype;return c.init=function(){var a=this;a.list=[],a.selectedList=[]},c.getList=function(){return this.list},c.getSelectedList=function(){return this.selectedList},c.setData=function(a){var b=this;return b.list=a,b.updateSelectedList(),b},c.invertSelectedList=function(){var b,c,d=this;return b={isSelected:!1},d.selectedList.flush(),c=a("filter")(d.list.records,b),c.forEach(function(a){d.selectedList.push(a)}),d},c.updateSelectedList=function(){var b,c,d=this;return b={isSelected:!0},d.selectedList.flush(),c=a("filter")(d.list.records,b),c.forEach(function(a){d.selectedList.push(a)}),d},c.reset=function(){var a=this;a.list=[],a.selectedList=[]},new b}a.module("uam").factory("UnitsUpgradeEligibleListManager",["$filter",c])}(angular),function(a,b){"use strict";function c(a,c,d,e,f,g,h,i,j){var k={},l=c(),m=d(),n=f(),o={recordsPerPage:8};return k.init=function(){return k.grid=l,m.watch(l),l.setConfig(a),n.setConfig(o),n.setGrid(l).trackSelection(a.getTrackSelectionConfig()),k.gridPagination=n,k},k.getAllData=function(){return j.getList().records},k.getSelectedRecords=function(){return l.getSelectionChanges()},k.setGridPagination=function(a){k.gridPagination.setData(k.getAllData()).goToPage({number:0})},k.resetGridFilters=function(){l.resetFilters()},k.reset=function(){k.grid.destroy(),k.grid=b,k.gridPagination.destroy(),k.gridPagination=b},k.init()}a.module("uam").factory("unitsAmenityUpgradeEligibleModel",["unitsAmenityUpgradeEligibleConfig","rpGridModel","rpGridTransform","$filter","rpGridPaginationModel","$modal","$templateCache","$aside","UpgradeEligibleListManager",c])}(angular),function(a){"use strict";function b(a,b){var c=a();return c.get=function(){return[{key:"isDelSelected",type:"select",idKey:"unitId"},{key:"unitNo"},{key:"buildingNo"},{key:"floorPlan"},{key:"floorLevel"},{key:"delete",type:"custom",templateUrl:"home/floorplan-unit/amenity-property-details-units/templates/upgrade-eligible-delete-template.html"}]},c.getHeaders=function(){return[[{key:"unitId"},{key:"unitNo",text:"Unit",isSortable:!0},{key:"buildingNo",text:"Building",isSortable:!0},{key:"floorPlan",text:"Floor Plan",isSortable:!0},{key:"floorLevel",text:"Floor",isSortable:!0},{key:"delete",className:"delete"}]]},c.getFilters=function(){return[{key:"unitId"},{key:"unitNo",type:"text",filterDelay:0,placeholder:"Search by unit"},{key:"buildingNo",type:"text",filterDelay:0,placeholder:"Search by building"},{key:"floorPlan",type:"text",filterDelay:0,placeholder:"Search by floorplan"},{key:"floorLevel",type:"text",filterDelay:0,placeholder:"Search by floor level"},{key:"delete"}]},c.getTrackSelectionConfig=function(){var a={};return c.get().forEach(function(b){"select"==b.type&&(a.idKey=b.idKey,a.selectKey=b.key)}),a},c}a.module("uam").factory("unitsUpgradeEligibleConfig",["rpGridConfig","fpuAmePropDetUnitsUpgEliActionsConfig",b])}(angular),function(a){"use strict";function b(a){var b=a();return b.get=function(){return[{key:"isSelected",type:"select",idKey:"floorPlanId"},{key:"floorplanName"}]},b.getHeaders=function(){return[[{Key:"isSelected",className:"is-selected",type:"select",enabled:!0},{key:"floorplanName",text:"FloorPlans"}]]},b.getFilters=function(){return[{Key:"floorPlanId"},{key:"floorplanName",type:"text",filterDelay:0,placeholder:"Search by FloorPlan name"}]},b.getTrackSelectionConfig=function(){var a={};return b.get().forEach(function(b){"select"==b.type&&(a.idKey=b.idKey,a.selectKey=b.key)}),a},b}a.module("uam").factory("unitsAmenityUpgradeEligibleConfig",["rpGridConfig",b])}(angular),function(a,b){"use strict";function c(a){function b(){this.init()}var c=b.prototype;return c.init=function(){var a=this;a.list=[],a.selectedList=[]},c.getList=function(){return this.list},c.getSelectedList=function(){return this.selectedList},c.setData=function(a){var b=this;return b.list=a,b.updateSelectedList(),b},c.invertSelectedList=function(){var b,c,d=this;return b={isSelected:!1},d.selectedList.flush(),c=a("filter")(d.list.records,b),c.forEach(function(a){d.selectedList.push(a)}),d},c.updateSelectedList=function(){var b,c,d=this;return b={isSelected:!0},d.selectedList.flush(),c=a("filter")(d.list.records,b),c.forEach(function(a){d.selectedList.push(a)}),d},c.reset=function(){var a=this;a.list=[],a.selectedList=[]},new b}a.module("uam").factory("AddUnitsListManager",["$filter",c])}(angular),function(a){"use strict";function b(a,b){var c=a();return c.get=function(a){return b({actions:[{text:"Change Price Point1",method:c.getMethod("changePricePointUpgEli"),data:a},{text:"Remove1",method:c.getMethod("removeUnitUpgEli"),data:a}],menuOffsetLeft:-230,menuClassNames:"rp-actions-menu-panel units-actionsmenu"})},c}a.module("uam").factory("fpuAmePropDetUnitsUpgEliActionsConfig",["rpGridActions","rpActionsMenuModel",b])}(angular),function(a){"use strict";function b(a,b){var c=a();return c.get=function(a){return b({actions:[{text:"Change Price Point",method:c.getMethod("changePricePointModal"),data:a},{text:"Remove",method:c.getMethod("removeUnit"),data:a}],menuOffsetLeft:-230,menuClassNames:"rp-actions-menu-panel units-actionsmenu"})},c}a.module("uam").factory("fpuAmePropDetUnitsAmeAddActionsConfig",["rpGridActions","rpActionsMenuModel",b])}(angular),function(a){"use strict";function b(a,b){var c={};return c.url={urlParm:"/api/floorplan-unit/amenity-property-detail-units"},c.requests={getReq:null},c.getDataReq=function(b){var d={amenityID:b.amenityID,PMCID:b.PMCID},e=c.url.urlParm;return a(e,d,{get:{method:"GET",cancellable:!0}}).get()},c.getData=function(a){return c.requests.getReq=c.getDataReq(a),c.requests.getReq.$promise},c}a.module("uam").factory("unitsDataSvc",["$resource","$window",b])}(angular),angular.module("uam").run(["$templateCache",function(a){a.put("home/floorplan-unit/amenity-property-details-pricepoints/templates/pricepoints-tab.html","Price Points Tab")}]),angular.module("uam").run(["$templateCache",function(a){a.put("home/floorplan-unit/amenity-price-point/templates/price-point-aside.html",'<div class="rp-aside-modal rp-aside-modal-right rp-aside-modal-show rp-aside-modal-extend-modal-2" ng-controller="FpaPropDetPricePointUnitsCtrl as fpaPricePointCtrl"><div class="rp-aside-modal-header rp-aside-modal-header-wrap extend" ng-if="fpaPricePointCtrl.isPageActive"><a ng-click="fpaPricePointCtrl.closeAside()"><i class="rp-aside-modal-close font-10"></i></a><h2 class="rp-aside-modal-header-title">Change Price Point</h2><h3 class="rp-aside-modal-header-subtitle">Unit {{::fpaPricePointCtrl.displayUnits}}</h3></div><div ng-if="fpaPricePointCtrl.isPageActive" class="rp-aside-modal-content extend floorplan-amenity-price-points-aside"><div class="ft-dark"><label class="form-label">Amenity Name</label></div><div class="space"><label class="form-text">{{::fpaPricePointCtrl.pricePointsData.amenityName}}</label></div><div class="ft-dark"><label class="form-label">Price Point</label></div><div class="space"><rp-form-select-menu rp-model="fpaPricePointCtrl.pricePoint" config="fpaPricePointCtrl.formConfig.pricePoint"></rp-form-select-menu></div></div><div class="rp-aside-modal-footer rp-aside-modal-footer-btns aside-btns"><button ng-click="fpaPricePointCtrl.closeAside()" class="btn rounded btn-outline b-primary text-primary pad-left">Cancel</button> <button ng-click="fpaPricePointCtrl.save()" class="btn rounded primary pad-left">Save</button></div></div>'),a.put("home/floorplan-unit/amenity-price-point/templates/price-point-template.html",'<div fpu-amenity-prop-details-units-actions><span class="">{{record.pricePoint}}</span><br><a ng-click="amenityPropDetailsUnits.showPricePoint(record)"><span class="change">Change</span></a></div>')}]),function(a,b){"use strict";function c(a,c,d,e,f,g,h,i,j,k){var l=this;l.init=function(){l.model=[],l.formConfig=j,l.formConfig.setMethodsSrc(l),l.loadData(),l.isPageActive=!0,l.destWatch=a.$on("$destroy",l.destroy)},l.loadData=function(){k.isPricePointBulk?l.model=e.get().selected:l.model.push(e.get()),l.model,l.getData(),l.getUnitsForDisplay(),l.setDefaultPricePoint()},l.setDefaultPricePoint=function(){k.isPricePointBulk?l.pricePoint="":l.pricePoint=l.model[0].pricePointID},l.getUnitsForDisplay=function(){k.isPricePointBulk?l.displayUnits=k.getSelUnits():l.displayUnits=l.model[0].unitNo},l.onSelectedPricePointChange=function(a){l.updPricePoint=a},l.getSelectedAmenity=function(){l.selAmenity=g.get()},l.setOptions=function(){j.setOptions("pricePoint",l.pricePointsData.pricePoints)},l.save=function(){var a,b;a={pricePointID:l.updPricePoint},b=c("filter")(l.pricePointsData.pricePoints,a),l.model.length>0&&(l.model,k.isPricePointBulk?l.model.forEach(function(a){l.updateUnitsListWithSelPricePoint(a,b[0])}):(l.model.unitId,l.updateUnitsListWithSelPricePoint(l.model[0].unitId,b[0]))),f.hide()},l.updateUnitsListWithSelPricePoint=function(a,b){var c=d.getSelectedList();c.forEach(function(c){c.unitId===a&&(c.pricePointID=b.pricePointID,c.pricePoint=b.price)})},l.closeAside=function(){f.hide(),l.isPageActive=!1,k.isPricePointBulk=!1},l.getData=function(){var a={amenityID:1,PMCID:2};h.getData(a).then(l.setData,l.setDataErr)},l.setData=function(a){l.pricePointsData=a,l.setOptions()},l.setDataErr=function(a){},l.destroy=function(){l.destWatch(),l=b,a=b},l.init()}a.module("uam").controller("FpaPropDetPricePointUnitsCtrl",["$scope","$filter","AddUnitsListManager","fpuAmenityPropDetailsUnitsPricePointContext","fpuAmenityPropDetailsUnitsPricePointAside","fpuAmenityDetailsContext","fpuAmePropDetUnitsPricePointDataSvc","rpFormSelectMenuConfig","pricePointConfig","fpuPropDetUnitsPricePointBulkModel",c])}(angular),function(a,b){"use strict";function c(a){return a("home/floorplan-unit/amenity-price-point/templates/price-point-aside.html")}a.module("uam").factory("fpuAmenityPropDetailsUnitsPricePointAside",["rightAsideModal",c])}(angular),function(a,b){"use strict";function c(a){return a()}a.module("uam").factory("fpuAmenityPropDetailsUnitsPricePointContext",["modalContext",c])}(angular),function(a){"use strict";function b(a,b){var c=a();return c.pricePoint=b({nameKey:"price",valueKey:"pricePointID",onChange:c.methods.get("onSelectedPricePointChange")}),c.defaultOptions={pricePoint:{price:"Select a price point",pricePointID:""}},c.setOptions=function(a,b){return b=[c.defaultOptions[a]].concat(b),c[a]&&c[a].setOptions(b),c},c}a.module("uam").factory("pricePointConfig",["baseFormConfig","rpFormSelectMenuConfig",b])}(angular),function(a,b){"use strict";function c(){var a={};return a.init=function(){return a.isPricePointBulk=!1,a},a.setSelUnits=function(b){return a.selUnits=b,a},a.getSelUnits=function(){return a.selUnits},a.reset=function(){a=b},a.init()}a.module("uam").factory("fpuPropDetUnitsPricePointBulkModel",[c])}(angular),function(a){"use strict";function b(a,b){var c={};return c.url={urlParm:"/api/floorplan-unit/price-points-by-amenity"},c.requests={getReq:null},c.getDataReq=function(b){var d={amenityID:b.amenityID,PMCID:b.PMCID},e=c.url.urlParm;return a(e,d,{get:{method:"GET",cancellable:!0}}).get()},c.getData=function(a){return c.requests.getReq=c.getDataReq(a),c.requests.getReq.$promise},c}a.module("uam").factory("fpuAmePropDetUnitsPricePointDataSvc",["$resource","$window",b])}(angular),angular.module("uam").run(["$templateCache",function(a){a.put("home/floorplan-unit/floorplan-assign/templates/floorplan-assign.html",'<div class="rp-aside-modal rp-aside-modal-right rp-aside-modal-show rp-aside-modal-extend-modal-2" ng-controller="FpuAmenityPropDetAssignFloorPlansModalCtrl as fpaPropAssignCtrl"><div class="rp-aside-modal-header rp-aside-modal-header-wrap extend"><a ng-click="fpaPropAssignCtrl.closeAside()"><i class="rp-aside-modal-close font-10"></i></a><h2 class="rp-aside-modal-header-title">Assign FloorPlans</h2></div><div ng-if="fpaPropAssignCtrl.isPageActive" class="rp-aside-modal-content floorplan-amenity-assign-floorplan-aside"><div class="grid-controls"><div class="grid-control-item"><rp-toggle model="fpaPropAssignCtrl.grid.filtersModel.state.active" options="{\n                    defaultText: \'Filter\',\n                    activeIconClass: \'rp-icon-filter\',\n                    defaultIconClass: \'rp-icon-filter active\'\n                }"></rp-toggle></div></div><div class="assign-prop-grid"><rp-grid model="fpaPropAssignCtrl.grid"></rp-grid><rp-grid-pagination model="fpaPropAssignCtrl.gridPagination"></rp-grid-pagination></div></div><div class="rp-aside-modal-footer rp-aside-modal-footer-btns aside-btns"><button ng-click="fpaPropAssignCtrl.closeAside()" class="btn rounded btn-outline b-primary text-primary pad-left">Cancel</button> <button ng-click="fpaPropAssignCtrl.assign()" class="btn rounded primary pad-left">Assign</button></div></div>'),a.put("home/floorplan-unit/floorplan-assign/templates/upgrade-eligible-assign.html",'<div class="rp-aside-modal rp-aside-modal-right rp-aside-modal-show rp-aside-modal-extend-modal-2" ng-controller="FpuAmenityPropDetAssignUpgradeEligibleModalCtrl as fpaPropAssignUECtrl"><div class="rp-aside-modal-header rp-aside-modal-header-wrap extend"><a ng-click="fpaPropAssignUECtrl.closeAside()"><i class="rp-aside-modal-close font-10"></i></a><h2 class="rp-aside-modal-header-title">Assign FloorPlans</h2></div><div class="rp-aside-modal-content floorplan-amenity-assign-floorplan-aside"><div class="grid-controls"><div class="grid-control-item"><rp-toggle model="fpaPropAssignUECtrl.grid.filtersModel.state.active" options="{\n                    defaultText: \'Filter\',\n                    activeIconClass: \'rp-icon-filter\',\n                    defaultIconClass: \'rp-icon-filter active\'\n                }"></rp-toggle></div></div><div class="assign-prop-grid"><rp-grid model="fpaPropAssignUECtrl.grid"></rp-grid><rp-grid-pagination model="fpaPropAssignUECtrl.gridPagination"></rp-grid-pagination></div></div><div class="rp-aside-modal-footer rp-aside-modal-footer-btns aside-btns"><button ng-click="fpaPropAssignUECtrl.closeAside()" class="btn rounded btn-outline b-primary text-primary pad-left">Cancel</button> <button ng-click="fpaPropAssignUECtrl.assign()" class="btn rounded primary pad-left">Assign</button></div></div>')}]),function(a,b){"use strict";function c(a,c,d,e,f,g){var h=this;h.init=function(){d.setSrc(h),h.model=c,h.grid=c.grid,h.gridPagination=c.gridPagination,h.isPageActive=!0,h.destWatch=a.$on("$destroy",h.destroy)},h.assign=function(){f.updateSelectedList(),e.publish("amenityDetails.updateSelectedListFloorplans"),g.hide()},h.closeAside=function(){g.hide(),h.isPageActive=!1},h.destroy=function(){h.destWatch(),h=b,a=b},h.init()}a.module("uam").controller("FpuAmenityPropDetAssignFloorPlansModalCtrl",["$scope","fpAmenityAddFloorPlansModel","fpAmenityAddFloorPlansConfig","pubsub","AddFloorPlanListManager","fpuAmenityPropDetailsFlrPlnAssignAside",c])}(angular),function(a,b){"use strict";function c(a,c,d,e,f,g){var h=this;h.init=function(){d.setSrc(h),h.model=c,h.grid=c.grid,h.gridPagination=c.gridPagination,h.destWatch=a.$on("$destroy",h.destroy)},h.assign=function(){f.updateSelectedList(),e.publish("amenityDetails.updateSelectedListUpgradeEligible"),g.hide()},h.closeAside=function(){g.hide()},h.destroy=function(){h.destWatch(),h=b,a=b},h.init()}a.module("uam").controller("FpuAmenityPropDetAssignUpgradeEligibleModalCtrl",["$scope","fpAmenityUpgradeEligibleModel","floorPlansAmenityUpgradeEligibleConfig","pubsub","UpgradeEligibleListManager","fpuAmenityPropDetailsFlrPlnUpgEliAssignAside",c])}(angular),function(a,b){"use strict";function c(a){return a("home/floorplan-unit/floorplan-assign/templates/floorplan-assign.html")}a.module("uam").factory("fpuAmenityPropDetailsFlrPlnAssignAside",["rightAsideModal",c])}(angular),function(a,b){"use strict";function c(a){return a()}a.module("uam").factory("fpuAmenityPropDetailsFlrPlnAssignContext",["modalContext",c])}(angular),function(a,b){"use strict";function c(a){return a("home/floorplan-unit/floorplan-assign/templates/upgrade-eligible-assign.html")}a.module("uam").factory("fpuAmenityPropDetailsFlrPlnUpgEliAssignAside",["rightAsideModal",c])}(angular),function(a,b){"use strict";function c(a){return a()}a.module("uam").factory("fpuAmenityPropDetailsFlrPlnUpgEliAssignContext",["modalContext",c])}(angular),function(a,b){"use strict";function c(a,c,d,e,f){var g={},h=c(),i=d(),j=e(),k={recordsPerPage:8};return g.init=function(){return g.grid=h,i.watch(h),h.setConfig(a),j.setConfig(k),j.setGrid(h).trackSelection(a.getTrackSelectionConfig()),g.gridPagination=j,g},g.getAllData=function(){return f.getList().records},g.getSelectedRecords=function(){return h.getSelectionChanges()},g.setGridPagination=function(a){g.gridPagination.setData(g.getAllData()).goToPage({number:0})},g.resetGridFilters=function(){h.resetFilters()},g.reset=function(){g.grid.destroy(),g.grid=b,g.gridPagination.destroy(),g.gridPagination=b},g.init()}a.module("uam").factory("fpAmenityUpgradeEligibleModel",["floorPlansAmenityUpgradeEligibleConfig","rpGridModel","rpGridTransform","rpGridPaginationModel","UpgradeEligibleListManager",c])}(angular),function(a){"use strict";function b(a){var b=a();return b.get=function(){return[{key:"isSelected",type:"select",idKey:"floorPlanId"},{key:"floorplanName"}]},b.getHeaders=function(){return[[{Key:"isSelected",className:"is-selected",type:"select",enabled:!0},{key:"floorplanName",text:"FloorPlans"}]]},b.getFilters=function(){return[{Key:"floorPlanId"},{key:"floorplanName",type:"text",filterDelay:0,placeholder:"Search by FloorPlan name"}]},b.getTrackSelectionConfig=function(){var a={};return b.get().forEach(function(b){"select"==b.type&&(a.idKey=b.idKey,a.selectKey=b.key)}),a},b}a.module("uam").factory("floorPlansAmenityUpgradeEligibleConfig",["rpGridConfig",b])}(angular),function(a){"use strict";function b(a){var b=a();return b.get=function(){return[{key:"isSelected",type:"select",idKey:"floorPlanId"},{key:"floorplanName"}]},b.getHeaders=function(){return[[{Key:"isSelected",type:"select",enabled:!0,className:"is-selected"},{key:"floorplanName",text:"FloorPlans"}]]},b.getFilters=function(){return[{Key:"floorPlanId"},{key:"floorplanName",type:"text",filterDelay:0,placeholder:"Search by FloorPlan name"}]},b.getTrackSelectionConfig=function(){var a={};return b.get().forEach(function(b){"select"==b.type&&(a.idKey=b.idKey,a.selectKey=b.key)}),a},b}a.module("uam").factory("fpAmenityAddFloorPlansConfig",["rpGridConfig",b])}(angular),function(a,b){"use strict";function c(a,c,d,e,f){var g={},h=c(),i=d(),j=e(),k={recordsPerPage:8};return g.init=function(){return g.grid=h,i.watch(h),h.setConfig(a),j.setConfig(k),j.setGrid(h).trackSelection(a.getTrackSelectionConfig()),g.gridPagination=j,g},g.getAllData=function(){return f.getList().records},g.getSelectedRecords=function(){return h.getSelectionChanges()},g.setGridPagination=function(){g.gridPagination.setData(g.getAllData()).goToPage({number:0})},g.resetGridFilters=function(){h.resetFilters()},g.reset=function(){g.grid.destroy(),g.grid=b,g.gridPagination.destroy(),g.gridPagination=b},g.init()}a.module("uam").factory("fpAmenityAddFloorPlansModel",["fpAmenityAddFloorPlansConfig","rpGridModel","rpGridTransform","rpGridPaginationModel","AddFloorPlanListManager",c])}(angular),angular.module("uam").run(["$templateCache",function(a){a.put("home/floorplan-unit/unit-assign/templates/assign-unit-upg-eli.html",'<div class="rp-aside-modal rp-aside-modal-right rp-aside-modal-show rp-aside-modal-extend-modal-2" ng-controller="FpuAmenityPropDetUpgEliAssignUnitsModalCtrl as fpaUpgEliUnitsAssignCtrl"><div class="rp-aside-modal-header rp-aside-modal-header-wrap extend" ng-if="fpaUpgEliUnitsAssignCtrl.isPageActive"><a ng-click="fpaUpgEliUnitsAssignCtrl.closeAside()"><i class="rp-aside-modal-close font-10"></i></a><h2 class="rp-aside-modal-header-title">Assign to Units</h2></div><div ng-if="fpaUpgEliUnitsAssignCtrl.isPageActive" class="rp-aside-modal-content floorplan-amenity-assign-units-aside"><div class="grid-controls"><div class="grid-control-item"><rp-toggle model="fpaUpgEliUnitsAssignCtrl.grid.filtersModel.state.active" options="{\n                    defaultText: \'Filter\',\n                    activeIconClass: \'rp-icon-filter\',\n                    defaultIconClass: \'rp-icon-filter active\'\n                }"></rp-toggle></div></div><div class="assign-prop-grid"><rp-grid model="fpaUpgEliUnitsAssignCtrl.grid"></rp-grid><rp-grid-pagination model="fpaUpgEliUnitsAssignCtrl.gridPagination"></rp-grid-pagination></div></div><div class="rp-aside-modal-footer rp-aside-modal-footer-btns aside-btns"><button ng-click="fpaUpgEliUnitsAssignCtrl.closeAside()" class="btn rounded btn-outline b-primary text-primary pad-left">Cancel</button> <button ng-click="fpaUpgEliUnitsAssignCtrl.assign()" class="btn rounded primary pad-left">Update</button></div></div>'),a.put("home/floorplan-unit/unit-assign/templates/assign-unit.html",'<div class="rp-aside-modal rp-aside-modal-right rp-aside-modal-show rp-aside-modal-extend-modal-2" ng-controller="FpuAmenityPropDetAmeAddAssignUnitsModalCtrl as fpaAmeAddUnitsAssignCtrl"><div class="rp-aside-modal-header rp-aside-modal-header-wrap extend" ng-if="fpaAmeAddUnitsAssignCtrl.isPageActive"><a ng-click="fpaAmeAddUnitsAssignCtrl.closeAside()"><i class="rp-aside-modal-close font-10"></i></a><h2 class="rp-aside-modal-header-title">Assign to Units</h2></div><div ng-if="fpaAmeAddUnitsAssignCtrl.isPageActive" class="rp-aside-modal-content floorplan-amenity-assign-units-aside"><div class="grid-controls"><div class="grid-control-item"><rp-toggle model="fpaAmeAddUnitsAssignCtrl.grid.filtersModel.state.active" options="{\n                    defaultText: \'Filter\',\n                    activeIconClass: \'rp-icon-filter\',\n                    defaultIconClass: \'rp-icon-filter active\'\n                }"></rp-toggle></div></div><div class="assign-prop-grid"><rp-grid model="fpaAmeAddUnitsAssignCtrl.grid"></rp-grid><rp-grid-pagination model="fpaAmeAddUnitsAssignCtrl.gridPagination"></rp-grid-pagination></div></div><div class="rp-aside-modal-footer rp-aside-modal-footer-btns aside-btns"><button ng-click="fpaAmeAddUnitsAssignCtrl.closeAside()" class="btn rounded btn-outline b-primary text-primary pad-left">Cancel</button> <button ng-click="fpaAmeAddUnitsAssignCtrl.assign()" class="btn rounded primary pad-left">Update</button></div></div>')}]),function(a,b){"use strict";function c(a,c,d,e,f,g){var h=this;h.init=function(){d.setSrc(h),h.model=c,h.grid=c.grid,h.gridPagination=c.gridPagination,h.isPageActive=!0,c.assignUnits(),h.destWatch=a.$on("$destroy",h.destroy)},h.assign=function(){f.updateSelectedList(),e.publish("amenityPropDetAmeAddAssignUnits.updateSelectedListUnits"),g.hide()},h.closeAside=function(){g.hide(),h.isPageActive=!1},h.destroy=function(){h.destWatch(),h=b,a=b},h.init()}a.module("uam").controller("FpuAmenityPropDetAmeAddAssignUnitsModalCtrl",["$scope","floorPlansAmenityAddunitsModel","floorPlansAmenityAddUnitsConfig","pubsub","AddUnitsListManager","fpuAmenityPropDetailsUnitAssignAside",c])}(angular),function(a,b){"use strict";function c(a,c,d,e,f,g){var h=this;h.init=function(){d.setSrc(h),h.model=c,h.grid=c.grid,h.gridPagination=c.gridPagination,h.isPageActive=!0,c.assignUnits(),h.destWatch=a.$on("$destroy",h.destroy)},h.assign=function(){f.updateSelectedList(),e.publish("amenityDetails.updateSelectedListUnitsUpgEli"),g.hide()},h.closeAside=function(){g.hide(),h.isPageActive=!1},h.destroy=function(){h.destWatch(),h=b,a=b},h.init()}a.module("uam").controller("FpuAmenityPropDetUpgEliAssignUnitsModalCtrl",["$scope","floorPlansUpgEliunitsModel","floorPlansUpgEliUnitsConfig","pubsub","UnitsUpgradeEligibleListManager","fpuAmenityPropDetailsUnitUpgEliAssignAside",c])}(angular),function(a,b){"use strict";function c(a,b,c,d,e){var f={},g=b(),h=c(),i=d(),j={recordsPerPage:8};return f.init=function(){return f.grid=g,h.watch(g),g.setConfig(a),i.setConfig(j),i.setGrid(g).trackSelection(a.getTrackSelectionConfig()),f.gridPagination=i,f},f.assignUnits=function(){f.setGridPagination()},f.getAllData=function(){return e.getList().records},f.getSelectedRecords=function(){return g.getSelectionChanges()},f.setGridPagination=function(){f.gridPagination.setData(f.getAllData()).goToPage({number:0})},f.resetGridFilters=function(){g.resetFilters()},f.reset=function(){},f.init()}a.module("uam").factory("floorPlansAmenityAddunitsModel",["floorPlansAmenityAddUnitsConfig","rpGridModel","rpGridTransform","rpGridPaginationModel","AddUnitsListManager",c])
}(angular),function(a){"use strict";function b(a){var b=a();return b.get=function(){return[{key:"isSelected",type:"select",idKey:"unitId"},{key:"unitNo"},{key:"buildingNo"},{key:"floorPlan"},{key:"floorLevel"}]},b.getHeaders=function(){return[[{Key:"isSelected",type:"select",enabled:!0,className:"is-selected"},{key:"unitNo",text:"Unit"},{key:"buildingNo",text:"Building"},{key:"floorPlan",text:"Floor Plan"},{key:"floorLevel",text:"Floor"}]]},b.getFilters=function(){return[{Key:"unitId"},{key:"unitNo",type:"text",filterDelay:0,placeholder:"Search by unit"},{key:"buildingNo",type:"text",filterDelay:0,placeholder:"Search by building"},{key:"floorPlan",type:"text",filterDelay:0,placeholder:"Search by floor plan"},{key:"floorLevel",type:"text",filterDelay:0,placeholder:"Search by floor"}]},b.getTrackSelectionConfig=function(){var a={};return b.get().forEach(function(b){"select"==b.type&&(a.idKey=b.idKey,a.selectKey=b.key)}),a},b}a.module("uam").factory("floorPlansAmenityAddUnitsConfig",["rpGridConfig",b])}(angular),function(a,b){"use strict";function c(a,b,c,d,e){var f={},g=b(),h=c(),i=d(),j={recordsPerPage:8};return f.init=function(){return f.grid=g,h.watch(g),g.setConfig(a),i.setConfig(j),i.setGrid(g).trackSelection(a.getTrackSelectionConfig()),f.gridPagination=i,f},f.assignUnits=function(){f.setGridPagination()},f.getAllData=function(){return e.getList().records},f.getSelectedRecords=function(){return g.getSelectionChanges()},f.setGridPagination=function(){f.gridPagination.setData(f.getAllData()).goToPage({number:0})},f.resetGridFilters=function(){g.resetFilters()},f.reset=function(){},f.init()}a.module("uam").factory("floorPlansUpgEliunitsModel",["floorPlansUpgEliUnitsConfig","rpGridModel","rpGridTransform","rpGridPaginationModel","UnitsUpgradeEligibleListManager",c])}(angular),function(a){"use strict";function b(a){var b=a();return b.get=function(){return[{key:"isSelected",type:"select",idKey:"unitId"},{key:"unitNo"},{key:"buildingNo"},{key:"floorPlan"},{key:"floorLevel"}]},b.getHeaders=function(){return[[{Key:"isSelected",type:"select",enabled:!0,className:"is-selected"},{key:"unitNo",text:"Unit"},{key:"buildingNo",text:"Building"},{key:"floorPlan",text:"Floor Plan"},{key:"floorLevel",text:"Floor"}]]},b.getFilters=function(){return[{Key:"unitId"},{key:"unitNo",type:"text",filterDelay:0,placeholder:"Search by unit"},{key:"buildingNo",type:"text",filterDelay:0,placeholder:"Search by building"},{key:"floorPlan",type:"text",filterDelay:0,placeholder:"Search by floor plan"},{key:"floorLevel",type:"text",filterDelay:0,placeholder:"Search by floor"}]},b.getTrackSelectionConfig=function(){var a={};return b.get().forEach(function(b){"select"==b.type&&(a.idKey=b.idKey,a.selectKey=b.key)}),a},b}a.module("uam").factory("floorPlansUpgEliUnitsConfig",["rpGridConfig",b])}(angular),function(a,b){"use strict";function c(a){return a("home/floorplan-unit/unit-assign/templates/assign-unit.html")}a.module("uam").factory("fpuAmenityPropDetailsUnitAssignAside",["rightAsideModal",c])}(angular),function(a,b){"use strict";function c(a){return a("home/floorplan-unit/unit-assign/templates/assign-unit-upg-eli.html")}a.module("uam").factory("fpuAmenityPropDetailsUnitUpgEliAssignAside",["rightAsideModal",c])}(angular);