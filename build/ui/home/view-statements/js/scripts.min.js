!function(a,b){"use strict";function c(a,c,d,e){var f,g=this;g.init=function(){g.model=f=e,g.destWatch=a.$on("$destroy",g.destroy),f.loadData()},g.destroy=function(){g.destWatch(),g=b,a=b},g.init()}a.module("ui").controller("statementsCtrl",["$scope","$http","notificationService","statementsdMdl",c])}(angular),function(a,b){"use strict";function c(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o,p={},q=b(),r=c();return p.statementData={},p.formConfig=d,p.leaseArray=[],p.init=function(){o=p.busyIndicator=g(),p.grid=q,r.watch(q),q.setConfig(a),q.formConfig=d;var b=[{dateRangeName:"This Year",dateRangeID:"01/01/"+m().format("YYYY")},{dateRangeName:"Past 6 Months",dateRangeID:m().subtract(6,"month").format("MM/DD/YYYY")},{dateRangeName:"Past 3 Months",dateRangeID:m().subtract(3,"month").format("MM/DD/YYYY")},{dateRangeName:"Current Month",dateRangeID:m().format("MM/DD/YYYY")},{dateRangeName:"Prior Month",dateRangeID:m().subtract(1,"month").format("MM/DD/YYYY")}];return d.setOptions("dateRange",b),p.dateRange=m().format("MM/DD/YYYY"),p},p.bindtenantdata=function(a){p.list=a.records},p.loadData=function(){p.toggleGridState(!0),d.setMethodsSrc(p),i.getLeaseList(f.LeaseIDBinding()).catch(f.error).then(function(a){a.data.forEach(function(a){p.leaseArray.push({leaseID:a.LEASEID,leaseName:a.LEASEID})}),d.setOptions("leaseIdList",p.leaseArray),p.leaseId=k.id,p.getStatement()})},p.getStatement=function(){p.toggleGridState(!0),h.getStatementList(f.statementInput(p.leaseId,p.dateRange)).catch(f.error).then(function(a){p.toggleGridState(!1),a.data.api&&(p.statementData=a.data.api[0],q.setData({records:p.statementData.payinfo}))})},p.toggleGridState=function(a){return a?(p.apiReady=!1,o.busy()):(p.apiReady=!0,o.off()),p},p.onLeaseIdChange=function(a){p.getStatement()},p.onDataRange=function(a){p.getStatement()},p.init()}a.module("ui").factory("statementsdMdl",["staementGrid1Config","rpGridModel","rpGridTransform","statementConfig","$q","baseModel","rpBusyIndicatorModel","statementSvc","dashboardSvc","$timeout","$stateParams","rpGridPaginationModel","moment","underscore",c])}(angular),function(a){"use strict";function b(a,b){var c=a();return c.leaseIdList=b({nameKey:"leaseName",valueKey:"leaseID",onChange:c.getMethod("onLeaseIdChange")}),c.dateRange=b({nameKey:"dateRangeName",valueKey:"dateRangeID",onChange:c.getMethod("onDataRange")}),c.setOptions=function(a,b){if(!c[a])return c;c[a].setOptions(b)},c}a.module("ui").factory("statementConfig",["baseFormConfig","rpFormSelectMenuConfig",b])}(angular),function(a){"use strict";function b(a){var b=a();return b.get=function(){return[{key:"WHENCREATED"},{key:"TYPE"},{key:"DESCRIPTION"},{key:"AMOUNT",type:"currency"},{key:"PAYMENT",type:"currency"},{key:"BALANCE",type:"currency"}]},b.getHeaders=function(){return[[{key:"WHENCREATED",text:"Date",isSortable:!0},{key:"TYPE",text:"Transactions"},{key:"DESCRIPTION",text:"Details"},{key:"AMOUNT",text:"Amount"},{key:"PAYMENT",text:"Payments"},{key:"BALANCE",text:"Balance"}]]},b.getFilters=function(){return[{key:"WHENCREATED",type:"text",filterDelay:0,placeholder:"Filter by Date"},{key:"TYPE",type:"text",filterDelay:0,placeholder:"Filter by Transactions"},{key:"DESCRIPTION",type:"text",filterDelay:0,placeholder:"Filter by Details"},{key:"AMOUNT",type:"text",filterDelay:0,placeholder:"Filter by Amount"},{key:"PAYMENT",type:"text",filterDelay:0,placeholder:"Filter by start Payments"},{key:"BALANCE",type:"textbox",filterDelay:0,placeholder:"Filter by Balance"}]},b.getTrackSelectionConfig=function(){var a={};return b.get().forEach(function(b){"select"==b.type&&(a.idKey=b.idKey,a.selectKey=b.key)}),a},b}a.module("ui").factory("staementGrid1Config",["rpGridConfig",b])}(angular),function(){"use strict";function a(a){return{getStatementList:function(b){return a.post("/api/statement",b)}}}angular.module("ui").factory("statementSvc",a),a.$inject=["$http"]}();