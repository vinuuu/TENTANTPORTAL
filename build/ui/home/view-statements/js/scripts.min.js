!function(a,b){"use strict";function c(a,c,d,e){var f,g=this;g.init=function(){g.model=f=e,g.destWatch=a.$on("$destroy",g.destroy)},g.destroy=function(){g.destWatch(),g=b,a=b},g.init()}a.module("ui").controller("statementsCtrl",["$scope","$http","notificationService","statementsdMdl",c])}(angular),function(a,b){"use strict";function c(a,b,c,d,e,f,g,h,i,j,k,l){var m,n={},o={},p=b(),q=l(),r=c(),s={currentPage:0,pagesPerGroup:5,recordsPerPage:6,currentPageGroup:0};return n.statementData={},n.formConfig=d,n.leaseArray=[],n.init=function(){return m=n.busyIndicator=g(),n.grid=p,r.watch(p),p.setConfig(a),q.setGrid(p).trackSelection(a.getTrackSelectionConfig()),q.setConfig(s),n.gridPagination=q,p.formConfig=d,n.loadData(),n},n.mockData=function(){n.bindtenantdata(o)},n.bindtenantdata=function(a){n.list=a.records},n.loadData=function(){d.setMethodsSrc(n);var a=[{dateRangeName:"This Year",dateRangeID:"01"},{dateRangeName:"Past 6 Months",dateRangeID:"02"},{dateRangeName:"Past 3 Months",dateRangeID:"03"},{dateRangeName:"Current Month",dateRangeID:"04"},{dateRangeName:"Prior Month",dateRangeID:"05"}];d.setOptions("dateRange",a),n.dateRange="01";var b={request:{operation:{content:{function:{readByQuery:{object:"leaseoccupancy",fields:"",query:"",returnFormat:"json"}}}}}};i.getLeaseList(b).catch(f.error).then(function(a){n.leaseArray.push({leaseID:"",leaseName:"All"}),a.data.forEach(function(a){n.leaseArray.push({leaseID:a.LEASEID,leaseName:"LeaseID :"+a.LEASEID})}),j(function(){d.setOptions("leaseIdList",n.leaseArray),n.leaseId=k.id},1e3),n.toggleGridState(!1),n.getStatement()})},n.getStatement=function(){n.toggleGridState(!0);var a={request:{operation:{content:{function:{getTenantStatement:{leaseid:k.id,fromdate:{year:"2015",month:"01",day:"01"},todate:{year:"2018",month:"01",day:"01"}}}}}}};h.getStatementList(a).catch(f.error).then(function(a){n.toggleGridState(!1),a.data.api&&(n.statementData=a.data.api[0],n.setData({records:n.statementData.payinfo}))})},n.setData=function(a){q.setData(a.records).goToPage({number:0})},n.toggleGridState=function(a){return a?(n.apiReady=!1,m.busy()):(n.apiReady=!0,m.off()),n},n.onLeaseIdChange=function(a){n.callingDummyApi()},n.onDataRange=function(a){n.callingDummyApi()},n.callingDummyApi=function(){n.toggleGridState(!0);var a={request:{operation:{content:{function:{readByQuery:{object:"leaseoccupancy",fields:"",query:"",returnFormat:"json"}}}}}};i.getLeaseList(a).catch(f.error).then(function(a){n.toggleGridState(!1)}).catch(function(a){n.toggleGridState(!1)})},n.init()}a.module("ui").factory("statementsdMdl",["staementGrid1Config","rpGridModel","rpGridTransform","statementConfig","$q","baseModel","rpBusyIndicatorModel","statementSvc","dashboardSvc","$timeout","$stateParams","rpGridPaginationModel",c])}(angular),function(a){"use strict";function b(a,b){var c=a();return c.leaseIdList=b({nameKey:"leaseName",valueKey:"leaseID",onChange:c.getMethod("onLeaseIdChange")}),c.dateRange=b({nameKey:"dateRangeName",valueKey:"dateRangeID",onChange:c.getMethod("onDataRange")}),c.setOptions=function(a,b){if(!c[a])return c;c[a].setOptions(b)},c}a.module("ui").factory("statementConfig",["baseFormConfig","rpFormSelectMenuConfig",b])}(angular),function(a){"use strict";function b(a){var b=a();return b.get=function(){return[{key:"WHENCREATED"},{key:"TYPE"},{key:"DESCRIPTION"},{key:"AMOUNT"},{key:"PAYMENT"},{key:"BALANCE"}]},b.getHeaders=function(){return[[{key:"WHENCREATED",text:"Date",isSortable:!0},{key:"TYPE",text:"Transactions"},{key:"DESCRIPTION",text:"Details"},{key:"AMOUNT",text:"Amount"},{key:"PAYMENT",text:"Payments"},{key:"BALANCE",text:"Balance"}]]},b.getFilters=function(){return[{key:"WHENCREATED",type:"text",filterDelay:0,placeholder:"Filter by Date"},{key:"TYPE",type:"text",filterDelay:0,placeholder:"Filter by Transactions"},{key:"DESCRIPTION",type:"text",filterDelay:0,placeholder:"Filter by Details"},{key:"AMOUNT",type:"text",filterDelay:0,placeholder:"Filter by Amount"},{key:"PAYMENT",type:"text",filterDelay:0,placeholder:"Filter by start Payments"},{key:"BALANCE",type:"textbox",filterDelay:0,placeholder:"Filter by Balance"}]},b.getTrackSelectionConfig=function(){var a={};return b.get().forEach(function(b){"select"==b.type&&(a.idKey=b.idKey,a.selectKey=b.key)}),a},b}a.module("ui").factory("staementGrid1Config",["rpGridConfig",b])}(angular),function(){"use strict";function a(a){return{getStatementList:function(b){return a.post("/api/statement",b)}}}angular.module("ui").factory("statementSvc",a),a.$inject=["$http"]}();