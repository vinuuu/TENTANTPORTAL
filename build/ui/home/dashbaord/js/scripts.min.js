!function(){"use strict";function a(a,b,c,d){var e,f=this;f.init=function(){f.model=e=d,f.destWatch=a.$on("$destroy",f.destroy),e.getdashboardList()},f.destroy=function(){f.destWatch(),f=void 0,a=void 0},f.init()}angular.module("ui").controller("dashboardCtrl",a),a.$inject=["$scope","$http","notificationService","dashboardMdl"]}(),function(){"use strict";function a(a,b,c,d,e){var f,g={};return g.init=function(){return f=g.busyIndicator=c(),g.cuurentmonth=e().format("MMM YYYY"),g},g.toggleGridState=function(a){return a?(g.apiReady=!1,f.busy()):(g.apiReady=!0,f.off()),g},g.getdashboardList=function(){g.toggleGridState(!0);var b={request:{operation:{content:{function:{readByQuery:{object:"leaseoccupancy",fields:"",query:"",returnFormat:"json"}}}}}};a.getLeaseList(b).then(function(a){a.data&&a.data.length>0&&(g.tenantlist=a.data,g.bindleaseDetailsData(g.tenantlist[0]))})},g.bindleaseDetailsData=function(a){g.toggleGridState(!0);var b={request:{operation:{content:{function:{getTenantBalance:{leaseid:a.LEASEID,asofdate:{year:e().year(),month:e().month()+1,day:e().day()}}}}}}};d.getAccountsInfo(b).then(function(b){g.toggleGridState(!1),b.data&&(a.leaseDetailsData=g.custData=b.data.api[0])})},g.bindtenantdata=function(a){g.list=a.records},g.init()}angular.module("ui").factory("dashboardMdl",a),a.$inject=["dashboardSvc","$http","rpBusyIndicatorModel","accountsSvc","moment"]}(),function(){"use strict";function a(a){return{getLeaseList:function(b){return a.post("/api/dashboard",b)}}}angular.module("ui").factory("dashboardSvc",a),a.$inject=["$http"]}();