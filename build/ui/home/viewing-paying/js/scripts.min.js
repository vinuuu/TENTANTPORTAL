!function(){"use strict";function a(a){var b,c=this;c.init=function(){c.model=b=a.init()},c.init()}angular.module("ui").controller("viewpayCtrl",a),a.$inject=["viewpayMdl"]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){var j={},k=c(),l=e("viewpay").translate,m=h(),n=d(),o={currentPage:0,pagesPerGroup:5,recordsPerPage:10,currentPageGroup:0};return j.init=function(){j.formConfig=a,a.setMethodsSrc(j);var c=[{paymentTypeName:"All Transaction",paymentTypeNameID:"All Transaction"},{paymentTypeName:"Paid",paymentTypeNameID:"Paid"},{paymentTypeName:"Due for payment",paymentTypeNameID:"Due for payment"}];return a.setOptions("paymentType",c),j.paymenttype="All Transaction",j.grid=k,n.watch(k),k.setConfig(b),m.setGrid(k).trackSelection(b.getTrackSelectionConfig()),m.setConfig(o),j.gridPagination=m,k.formConfig=a,j.loadData(),j},j.translateNames=function(a){return l(a)},j.setData=function(a){var b=[{CUSTOMERID:"Sri_lease1",LEASEID:"AH-1038",RECORDID:null,RECORDNO:"26834",STATE:"Posted",TOTALDUE:"1200",TOTALENTERED:"1200",UNITID:"U1"}];m.setData(b).goToPage({number:0})},j.loadData=function(){var b={request:{operation:{content:{function:{readByQuery:{object:"pminvoice",fields:"",query:"",returnFormat:"json"}}}}}};f.getInvoiceList(b).then(function(b){b.data&&b.data.length>0&&(j.leaseArray=[],b.data.forEach(function(a){j.leaseArray.push({leaseID:a.LEASEID,leaseName:"LeaseID :"+a.LEASEID})}),i(function(){a.setOptions("secondSelect",j.leaseArray),j.leasevalueID=j.leaseArray[0].leaseID},500),j.setData({records:b.data}))})},j}angular.module("ui").factory("viewpayMdl",a),a.$inject=["viewpaySelectMenuFormConfig","viewpayGrid1Config","rpGridModel","rpGridTransform","appLangTranslate","viewPaySvc","underscore","rpGridPaginationModel","$timeout"]}(),function(a){"use strict";function b(a){var b=a();return b.get=function(){return[{key:"Invoice"},{key:"Date"},{key:"LEASEID",type:"custom",templateUrl:"home/viewing-paying/templates/textbox.html"},{key:"UNITID"},{key:"TOTALDUE"},{key:"TOTALENTERED",type:"custom",templateUrl:"home/viewing-paying/templates/textbox.html"},{key:"Status"}]},b.getHeaders=function(){return[[{key:"Invoice",text:"Invoice"},{key:"Date",text:"Date"},{key:"LEASEID",text:"Lease ID"},{key:"UNITID",text:"Unit ID"},{key:"TOTALENTERED",text:"Amount"},{key:"TOTALENTERED",text:"Pay Amount"},{key:"Status",text:"Status"}]]},b.getFilters=function(){return[{key:"Invoice",type:"text",filterDelay:0,placeholder:"Filter by Invoice"},{key:"Date",type:"text",filterDelay:0,placeholder:"Filter by Date"},{key:"LEASEID",type:"text",filterDelay:0,placeholder:"Lease ID"},{key:"UNITID",type:"text",filterDelay:0,placeholder:"Filter by Unit ID"},{key:"TOTALDUE",type:"text",filterDelay:0,placeholder:"Filter by start Amount"},{key:"TOTALENTERED",type:"textbox",filterDelay:0,placeholder:"Filter by Pay Amount"},{key:"Status",type:"textbox",filterDelay:0,placeholder:"Filter by Status"}]},b.getTrackSelectionConfig=function(){var a={};return b.get().forEach(function(b){"select"==b.type&&(a.idKey=b.idKey,a.selectKey=b.key)}),a},b}a.module("ui").factory("viewpayGrid1Config",["rpGridConfig",b])}(angular),function(a){"use strict";function b(a,b,c){var d=a();return d.paymentType=b({nameKey:"paymentTypeName",valueKey:"paymentTypeNameID"}),d.secondSelect=b({nameKey:"leaseName",valueKey:"leaseID"}),d.lease=c({id:"Invoice",fieldName:"Invoice"}),d.setOptions=function(a,b){if(!d[a])return d;d[a].setOptions(b)},d}a.module("ui").factory("viewpaySelectMenuFormConfig",["baseFormConfig","rpFormSelectMenuConfig","rpFormInputTextConfig",b])}(angular),angular.module("ui").run(["$templateCache",function(a){a.put("home/viewing-paying/templates/checkbox.html",""),a.put("home/viewing-paying/templates/textbox.html",'<div class="grid-edit-title">{{record[config.key]}}\x3c!-- <rp-form-input-text config="model.formConfig.lease" rp-model="record[config.key]">\n    </rp-form-input-text> --\x3e</div>')}]),function(){"use strict";function a(a){return{getInvoiceList:function(b){return a.post("/api/viewPay",b)}}}angular.module("ui").factory("viewPaySvc",a),a.$inject=["$http"]}();